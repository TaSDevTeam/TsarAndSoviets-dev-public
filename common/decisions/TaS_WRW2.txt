TaS_WRW2_central_asia_invasion = {
	TaS_WRW2_start_invasion = {
		icon = GFX_decision_generic_decision
		fire_only_once = yes
		custom_cost_trigger = { command_power > 24.99 }
		custom_cost_text = decision_cost_25_cp
		fire_only_once = yes
		complete_effect = {
			add_war_support = 0.03
			hidden_effect = {
				add_command_power = -25
			}
		}
		days_remove = 30
		remove_effect = {
				declare_war_on = {
					target = UZB
					type = annex_everything
				}
				declare_war_on = {
					target = KRK
					type = annex_everything
				}
				declare_war_on = {
					target = UTL
					type = annex_everything
				}
				declare_war_on = {
					target = TAJ
					type = annex_everything
				}
				declare_war_on = {
					target = KYR
					type = annex_everything
				}
				declare_war_on = {
					target = TRK
					type = annex_everything
				}
				hidden_effect = {
				UZB = { leave_faction = yes }
				KRK = { leave_faction = yes }
				UTL = { leave_faction = yes }
				TAJ = { leave_faction = yes }
				KYR = { leave_faction = yes }
				TRK = { leave_faction = yes }
				if = {
					limit = {
						TAJ = {
							is_puppet_of = GER					
						}
					}
					AFG = { leave_faction = yes }
				}
				every_country  = {
					news_event = {
						id = MAR_2WRW_world_news.1
					}
				}
			}
		}
	}
	MAR_fate_of_turkestan_effigy = {
		icon = GFX_decision_generic_assault
		visible = {
			OR = {
				has_country_flag = MAR_has_turkestan
				AND = {
					UZB = { exists = no }
					KRK = { exists = no }
					UTL = { exists = no }
					TAJ = { exists = no }
					KYR = { exists = no }
					TRK = { exists = no }
				}
			}
		}
		available = {
			always = no
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout MAR_fate_of_turkestan_effigy"
		}
	}
	MAR_fate_of_turkestan_govern = {
		icon = GFX_decision_generic_assault
		visible = {
			OR = {
				has_country_flag = MAR_has_turkestan
				AND = {
					UZB = { exists = no }
					KRK = { exists = no }
					UTL = { exists = no }
					TAJ = { exists = no }
					KYR = { exists = no }
					TRK = { exists = no }
				}
			}
		}
		available = {
		}
		cost = 25
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout MAR_fate_of_turkestan_govern"
			clr_country_flag = MAR_has_turkestan
			set_country_flag = MAR_Turkestan_govern_stayed
			MAR_Turkestan_govern = yes
		}
	} 
	#MAR_fate_of_turkestan_autonomy = { #Temporarly Discounted
	#	icon = GFX_decision_generic_assault
	#	visible = {
	#		has_country_flag = MAR_has_turkestan
	#	}
	#	available = {
	#	}
	#	fire_only_once = yes
	#	cost = 25
	#	complete_effect = {
	#		log = "[GetDateText]: [Root.GetName]: Decision timeout MAR_fate_of_turkestan_autonomy"
	#		clr_country_flag = MAR_has_turkestan
	#		set_country_flag = MAR_Turkestan_autonomy
	#		UZB = {
	#			set_cosmetic_tag = UZB_MAR_autonomy
	#			set_politics = {
	#				ruling_party = paternalism
	#				last_election = "1933.2.16"
	#				election_frequency = 36
	#				elections_allowed = no
	#			}	
	#			add_country_leader_role = {
	#				character = UZB_Islam_Karimov
	#				promote_leader = yes
	#				country_leader = {
	#					ideology = paternalism_controlled_democracy_subtype
	#					expire = "1999.1.1"
	#					traits = { }
	#				}
	#			}
	#		}
	#	}
	#}
}
TaS_WRW2_far_east_proxies = {
	TaS_WRW2_seek_oportunities_fe = {
		icon = GFX_decision_generic_decision
		fire_only_once = yes
		cost = 25
		complete_effect = {
			add_war_support = 0.03
		}
		remove_effect = {
			#country_event = {
			#	id = MAR_JAP.1 
			#}
			hidden_effect = {
			set_country_flag = MAR_fareast_proxy
			}
		}
	}
	MAR_support_rebels_effigy = {
		icon = GFX_decision_generic_assault
		visible = {
			has_country_flag = MAR_fareast_proxy
		}
		available = {
			always = no
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout MAR_support_rebels_effigy"
		}
	}
	MAR_send_guns_rebels = {
		icon = GFX_decision_black_market_arms_trade_increase
		visible = {
			has_country_flag = MAR_fareast_proxy
		}
		available = {
			NOT = {
				has_country_flag = MARFE_doing_stuff
			}
		}
		cost = 25
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout MAR_send_guns_rebels"
			set_country_flag = MARFE_doing_stuff
		}
		remove_effect = {
			add_to_variable = { MAR_FErebels_infantry_weapons = 1000 }
			clr_country_flag = MARFE_doing_stuff
		}
	}
	MAR_send_propoganda_rebels = {
		icon = decision_generic_military_hat
		visible = {
			has_country_flag = MAR_fareast_proxy
		}
		available = {
			NOT = {
				has_country_flag = MARFE_doing_stuff
			}
		}
		cost = 25
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout MAR_send_propoganda_rebels"
			set_country_flag = MARFE_doing_stuff
		}
		remove_effect = {
			add_to_variable = { MAR_FErebels_adddivisions = 2 }
			clr_country_flag = MARFE_doing_stuff
		}
	}
	MAR_send_partisans_rebels = {
		icon = GFX_decision_generic_assault
		visible = {
			has_country_flag = MAR_fareast_proxy
		}
		available = {
			NOT = {
				has_country_flag = MARFE_doing_stuff
			}
		}
		fire_only_once = yes
		cost = 25
		days_remove = 28
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout MAR_send_partisans_rebels"
			set_country_flag = MARFE_doing_stuff
		}
		remove_effect = {
			add_to_variable = { MAR_FErebels_addpartisans = 1 }
			clr_country_flag = MARFE_doing_stuff
		}
	}
	MAR_send_advisors_rebels = {
		icon = GFX_decision_generic_military_parade
		visible = {
			has_country_flag = MAR_fareast_proxy
		}
		available = {
			NOT = {
				has_country_flag = MARFE_doing_stuff
			}
		}
		fire_only_once = yes
		cost = 25
		days_remove = 28
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout MAR_send_advisors_rebels"
			set_country_flag = MARFE_doing_stuff
		}
		remove_effect = {
			add_to_variable = { MAR_FErebels_advisors = 1 }	
			clr_country_flag = MARFE_doing_stuff
		}
	}
	MAR_FErebels_mission = {
		icon = GFX_decision_generic_ignite_civil_war
		allowed = {
			tag = MAR
		}
		available = {
			always = no
		}
		activation = {
			has_country_flag = MAR_fareast_proxy
		}

		days_mission_timeout = 90
		is_good = no

		timeout_effect = {
			clr_country_flag = MAR_fareast_proxy
			hidden_effect = {
			TaS_2WRW_manchuria_start_rebelion = yes
			every_country  = {
					news_event = {
						id = MAR_2WRW_world_news.4
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
}
TaS_WRW2_manchu_crisis = {
	TaS_WRW2_expand_operations = {
		icon = GFX_decision_generic_ignite_civil_war
		available = {
			NOT = {
				has_country_flag = MARFE_doing_stuff
			}
		}
		cost = 25
		days_remove = 21
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout TaS_WRW2_expand_operations"
			set_country_flag = MARFE_doing_stuff
		}
		remove_effect = {
			MAR = {
				set_temp_variable = { target = PFF}
				TNO_increase_volunteer_cap_1 = yes
			}
			clr_country_flag = MARFE_doing_stuff
		}
	}
	TaS_WRW2_authorize_bombing_runs = {
		icon = GFX_decision_generic_bombing
		available = {
			NOT = {
				has_country_flag = MARFE_doing_stuff
			}
			
		}
		cost = 25
		days_remove = 21
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout TaS_WRW2_authorize_bombing_runs"
			set_country_flag = MARFE_doing_stuff
		}
		remove_effect = {
			add_equipment_to_stockpile = {
				type = tac_bomber_equipment
				amount = -40
			}
			KOR = {
				add_ideas = { MAR_KOR_Bombing_runs }	
			}
			clr_country_flag = MARFE_doing_stuff
		}
	}
	TaS_WRW2_send_rebels_equipment_small = {
		icon = GFX_decision_generic_arms_crate
		available = {
			NOT = {
				has_country_flag = MARFE_doing_stuff
			}
		}
		cost = 25
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout TaS_WRW2_send_rebels_equipment_small"
			set_country_flag = MARFE_doing_stuff
			set_temp_variable = { debt_temp = 0.015 }
			econ_national_debt_change = yes
		}
		remove_effect = {
			PFF = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 500
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = anti_tank_equipment
					amount = 100
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 100
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 15
					producer = MAR
				}
			}
			clr_country_flag = MARFE_doing_stuff
		}
	}
	TaS_WRW2_send_rebels_equipment_medium = {
		icon = GFX_decision_generic_arms_crate
		available = {
			NOT = {
				has_country_flag = MARFE_doing_stuff
			}
		}
		cost = 50
		days_remove = 21
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout TaS_WRW2_send_rebels_equipment_medium"
			set_country_flag = MARFE_doing_stuff
			set_temp_variable = { debt_temp = 0.035 }
			econ_national_debt_change = yes
		}
		remove_effect = {
			PFF = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 1000
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = anti_tank_equipment
					amount = 250
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 250
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 45
					producer = MAR 
				}
			}
			clr_country_flag = MARFE_doing_stuff
		}
	}
	TaS_WRW2_send_rebels_equipment_big = {
		icon = GFX_decision_generic_arms_crate
		available = {
			NOT = {
				has_country_flag = MARFE_doing_stuff
			}
		}
		cost = 100
		days_remove = 28
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout TaS_WRW2_send_rebels_equipment_big"
			set_country_flag = MARFE_doing_stuff
			set_temp_variable = { debt_temp = 0.05 }
			econ_national_debt_change = yes
		}
		remove_effect = {
			PFF = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 2000
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = anti_tank_equipment
					amount = 500
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 500
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 100
					producer = MAR
				}
			}
			clr_country_flag = MARFE_doing_stuff
		}
	}
}
TaS_WRW2_second_manchu_cw = {
	TaS_WRW2_use_the_opportunity = {
		icon = decision_generic_military_hat
		visible = {
		}
		available = {
		}
		cost = 25
		days_remove = 14
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout MAR_send_propoganda_rebels"
		}
		remove_effect = {
			set_country_flag = TaS_WRW2_intervene_second_cw
		}
	}
	TaS_WRW2_send_volunteers_man = {
		icon = decision_generic_military_hat
		visible = {
			has_country_flag = TaS_WRW2_intervene_second_cw
		}
		available = {
		}
		cost = 25
		days_remove = 14
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout MAR_send_propoganda_rebels"
		}
		remove_effect = {
			set_temp_variable = { target = MAN}
			TNO_increase_volunteer_cap_3 = yes
		}
	}
	TaS_WRW2_authorize_bombing_runs_scw = {
		icon = GFX_decision_generic_bombing
		visible = {
			has_country_flag = TaS_WRW2_intervene_second_cw
		}		
		available = {
			NOT = {
				has_country_flag = MARFE_doing_stuff
			}
			
		}
		cost = 25
		days_remove = 21
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout TaS_WRW2_authorize_bombing_runs"
			set_country_flag = MARFE_doing_stuff
		}
		remove_effect = {
			add_equipment_to_stockpile = {
				type = tac_bomber_equipment
				amount = -40
			}
			KOR = {
				add_ideas = { MAR_KOR_Bombing_runs }	
			}
			HAN = {
				add_ideas = { MAR_KOR_Bombing_runs }	
			}
			clr_country_flag = MARFE_doing_stuff
		}
	}
	TaS_WRW2_send_manchu_equipment_small = {
		icon = GFX_decision_generic_arms_crate
		visible = {
			has_country_flag = TaS_WRW2_intervene_second_cw
		}		
		available = {
			NOT = {
				has_country_flag = MARFE_doing_stuff
			}
		}
		cost = 25
		days_remove = 21
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout TaS_WRW2_send_manchu_equipment_small"
			set_country_flag = MARFE_doing_stuff
			set_temp_variable = { debt_temp = 0.015 }
			econ_national_debt_change = yes
		}
		remove_effect = {
			MAN = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 500
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = anti_tank_equipment
					amount = 100
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 100
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 15
					producer = MAR
				}
			}
			clr_country_flag = MARFE_doing_stuff
		}
	}
	TaS_WRW2_attack_menjiang = {
		visible = {
			has_country_flag = TaS_WRW2_intervene_second_cw
		}	
		icon = GFX_decision_generic_decision
		fire_only_once = yes
		custom_cost_trigger = { command_power > 24.99 }
		custom_cost_text = decision_cost_25_cp
		fire_only_once = yes
		complete_effect = {
			add_war_support = 0.03
			hidden_effect = {
				add_command_power = -25
			}
		}
		days_remove = 30
		remove_effect = {
			declare_war_on = {
				target = MEN
				type = annex_everything
			}
		}
	}
}
TaS_WRW2_prepare_for_final_battle = {
	TaS_WRW2_launch_attack_on_germany = {
		icon = GFX_decision_generic_assault
		visible = {
			GER = {
				exists = yes
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = war_preparation_tt
				check_variable = { RUS2WRWWarPreparedness > 74.99 }
			}
		}
		custom_cost_trigger = { command_power > 24.99 }
		custom_cost_text = decision_cost_25_cp
		fire_only_once = yes
		days_remove = 30
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: TaS_WRW2_launch_attack_on_germany"
			hidden_effect = {
				add_command_power = -25
			}
		}
		remove_effect = {
			declare_war_on = {
				target = GER
				type = annex_everything
			}
			add_ideas = { MAR_oper_zero }
			set_variable = { RUS_devastation_gain = 4 }
			set_variable = { RUS.GER_devastation_gain = 2 }
			set_global_flag = TaS_2WRW_started
			GER = { add_ideas = { TaS_2WRW_north_sea_problems } }
			hidden_effect = {
				every_country  = {
						news_event = {
							id = MAR_2WRW_world_news.6
						}
					}
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_establish_southborders_fortifications = {
		icon = GFX_decision_generic_destroy_fort
		visible = {

		}
		available = {
			has_war = no
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 120
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_establish_eastern_fortifications"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			add_to_variable = { RUS2WRWWarPreparedness = 20 }
			custom_effect_tooltip = TaS_WRW2_establish_eastern_fortifications_tt
			755 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 13290
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9473
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 452
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6502
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6339
				}
			}
			251 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9365
				}
			}
			250 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6394
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3246
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3196
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 286
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11373
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3269
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 345
				}
			}
			252 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3285
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 297	
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11277
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11344
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9298
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9360
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6299
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6295
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6370
				}
			}
			407 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9549
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9487
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 470
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6430
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9447
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3406
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11538
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 545
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6525
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11457
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 468
				}
			}
		406 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 477
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3459
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3622
				}
			}
		}
	}
	TaS_WRW2_establish_northborders_fortifications = {
		icon = GFX_decision_generic_destroy_fort
		visible = {

		}
		available = {
			has_war = no
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 75
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_fortify_fallback_lines"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			add_to_variable = { RUS2WRWWarPreparedness = 10 }
			custom_effect_tooltip = TaS_WRW2_fortify_fallback_lines_tt
			if = {
				limit = {
					owns_state = 216
				}
				216 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 11153
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 9190
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 3142
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 6169
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 13340
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 60
					}
				}
			}
			858 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3160
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11103
				}
			}
			859 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6034
				}
			}
			861 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6075
				}
			}
			857 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3157
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6097
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11189
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11213
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11107
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9168
				}
			}
			856 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3056
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 62
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 164
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3190
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6215
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9159
				}
			}
			855 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9033
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9358
				}
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_mobilize_airmobile_units = {
		icon = GFX_decision_generic_fighter_plane
		visible = {

		}
		available = {
			has_war = no
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 45
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_mobilize_airmobile_units"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			add_to_variable = { RUS2WRWWarPreparedness = 10 }
			custom_effect_tooltip = TaS_WRW2_mobilize_airmobile_units_tt
			air_experience = 15
			861 = {
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
			856 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			252 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			755 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			406 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_prepare_industrial_centers = {
		icon = GFX_decision_factory_generic_blue
		visible = {
		}
		available = {
			has_war = no
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 45
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_prepare_industrial_centers"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			add_to_variable = { RUS2WRWWarPreparedness = 15 }
			custom_effect_tooltip = TaS_WRW2_prepare_industrial_centers_tt
			set_temp_variable = { pus_temp = 6 }
			econ_pus_change = yes
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_send_partisans = {
		icon = GFX_decision_factory_generic_blue
		visible = {
		}
		available = {
			has_war = no
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 45
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_prepare_industrial_centers"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			MCW = {
				add_ideas = TaS_war_partisans 
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_cryptology_efforts = {
		icon = GFX_decision_generic_ger_espionage
		visible = {
		}
		available = {
			has_war = no
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 90
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_prepare_industrial_centers"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			upgrade_intelligence_agency = upgrade_modernize_department
			upgrade_intelligence_agency = upgrade_cryptographic_engineering
			upgrade_intelligence_agency = upgrade_cryptographic_engineering
			upgrade_intelligence_agency = upgrade_cryptographic_engineering
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_send_diversantos = {
		icon = GFX_decision_factory_generic_blue
		visible = {
		}
		available = {
			has_war = no
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 60
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_prepare_industrial_centers"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			add_to_variable = { MAR_Sended_diversants = 1 }
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_develop_front_railways = {
		icon = GFX_decision_generic_infrastructure
		visible = {
		}
		available = {
			has_war = no
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 60
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_develop_siberian_railways"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			add_to_variable = { RUS2WRWWarPreparedness = 20 }
			custom_effect_tooltip = TaS_WRW2_develop_siberian_railways_tt
			857 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			856 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			855 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			252 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			250 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			251 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			755 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			407 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			406 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_raise_additional_reserves = {
		icon = GFX_decision_generic_military_parade
		visible = {
		}
		available = {
			has_war = no
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 45
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_raise_additional_reserves"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			add_to_variable = { RUS2WRWWarPreparedness = 15 }
			custom_effect_tooltip = TaS_WRW2_raise_additional_reserves_tt
			add_manpower = 450000
		}
		ai_will_do = {
			factor = 20
		}
	}
}
TaS_WRW2_the_final_battle = {
	TaS_WRW2_devastation_tick = {
    	available = {
			NOT = {	
				MAR = { has_war_with = GER }
			}
    	}
	
    	activation = {
    		has_global_flag = TaS_2WRW_started
    	}
	
    	is_good = no
	
    	days_mission_timeout = 14
	
		timeout_effect = {
    		log = "[GetDateText]: [Root.GetName]: TaS_WRW2_devastation_tick mission timer elapsed" 
	
    		add_to_variable = {
    		    RUS_devastation = RUS_devastation_gain
    		}

			#YUN_update_devastation_effects = yes
	
    		hidden_effect = {
    			if = {
    				limit = {
    					has_war_with = GER 
    				}
    				activate_mission = TaS_WRW2_devastation_tick
    			}
    			if = {
    				limit = {
    					surrender_progress > 0.10
    				}
    			}
    		}
    	}
	
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Mission TaS_WRW2_devastation_tick Completed (Should never happen for this mission, please report if you see this in the log.)"
    	}
  	}
	TaS_WRW2_show_war_plans = {
		icon = GFX_decision_generic_decision
		visible = {
			NOT = {
				has_country_flag = TaS_2WRW_show_warplans
			}
		}
		available = {
			has_war = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			set_country_flag = TaS_2WRW_show_warplans	
		}
	}
	TaS_WRW2_hide_war_plans = {
		icon = GFX_decision_generic_decision
		visible = {
			has_country_flag = TaS_2WRW_show_warplans
		}
		available = {
			has_war = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			clr_country_flag = TaS_2WRW_show_warplans	
		}
	}
	TaS_WRW2_activate_plan_spb = {
		icon = GFX_decision_diplo_moskowien
		visible = {
			has_country_flag = TaS_2WRW_show_warplans
		}
		available = {
			has_war = yes
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_activate_plan_spb "
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			set_country_flag = MAR_started_spb_offensive
			add_timed_idea = {
				idea = MAR_go_oper
				days = 90
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_activate_plan_spb_mission = {
		icon = GFX_decision_generic_assault
		allowed = {
			tag = MAR
		}
		available = {
			always = no
		}
		activation = {
			has_country_flag = MAR_started_spb_offensive
		}
		cancel_trigger = {
			OR = {
				has_war = no
				controls_state = 195
			}
		}

		cancel_effect = {
			clr_country_flag = MAR_started_spb_offensive
			Tas_WRW2_decrease_depression = yes
		}
		days_mission_timeout = 90
		is_good = no

		timeout_effect = {
			clr_country_flag = MAR_started_spb_offensive
			Tas_WRW2_increase_depression = yes
			add_to_variable = { RUS_devastation_gain = 0.5 }
		}
		ai_will_do = {
			factor = 1
		}
	}
	TaS_WRW2_activate_plan_msk = {
		icon = GFX_decision_diplo_moskowien
		visible = {
			has_country_flag = TaS_2WRW_show_warplans
		}
		available = {
			has_war = yes
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_activate_plan_spb "
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			set_country_flag = MAR_started_MSK_offensive
			add_timed_idea = {
				idea = MAR_go_oper
				days = 90
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_activate_plan_msk_mission = {
		icon = GFX_decision_generic_assault
		allowed = {
			tag = MAR
		}
		available = {
			always = no
		}
		activation = {
			has_country_flag = MAR_started_MSK_offensive
		}
		cancel_trigger = {
			OR = {
				has_war = no
				controls_state = 1442
			}
		}

		cancel_effect = {
			clr_country_flag = MAR_started_MSK_offensive
			Tas_WRW2_decrease_depression = yes
		}
		days_mission_timeout = 90
		is_good = no

		timeout_effect = {
			clr_country_flag = MAR_started_MSK_offensive
			Tas_WRW2_increase_depression = yes
			add_to_variable = { RUS_devastation_gain = 0.5 }
		}
		ai_will_do = {
			factor = 1
		}
	}
	TaS_WRW2_activate_plan_volga = {
		icon = GFX_decision_diplo_kaukasien
		visible = {
			has_country_flag = TaS_2WRW_show_warplans
		}
		available = {
			has_war = yes
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_activate_plan_spb "
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			set_country_flag = MAR_started_CAU_offensive
			add_timed_idea = {
				idea = MAR_go_oper
				days = 90
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_activate_plan_volga_mission = {
		icon = GFX_decision_generic_assault
		allowed = {
			tag = MAR
		}
		available = {
			always = no
		}
		activation = {
			has_country_flag = MAR_started_CAU_offensive
		}
		cancel_trigger = {
			OR = {
				has_war = no
				controls_state = 243
			}
		}

		cancel_effect = {
			clr_country_flag = MAR_started_CAU_offensive
			Tas_WRW2_decrease_depression = yes
		}
		days_mission_timeout = 90
		is_good = no

		timeout_effect = {
			clr_country_flag = MAR_started_CAU_offensive
			Tas_WRW2_increase_depression = yes
			add_to_variable = { RUS_devastation_gain = 0.5 }
		}
		ai_will_do = {
			factor = 1
		}
	}
	TaS_WRW2_activate_plan_kyiv = {
		icon = GFX_decision_diplo_ukraine
		visible = {
			has_country_flag = TaS_2WRW_show_warplans
		}
		available = {
			has_war = yes
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_activate_plan_spb "
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			set_country_flag = MAR_started_UKR_offensive
			add_timed_idea = {
				idea = MAR_go_oper
				days = 90
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_activate_plan_kyiv_mission = {
		icon = GFX_decision_generic_assault
		allowed = {
			tag = MAR
		}
		available = {
			always = no
		}
		activation = {
			has_country_flag = MAR_started_UKR_offensive
		}
		cancel_trigger = {
			OR = {
				has_war = no
				controls_state = 1428
			}
		}

		cancel_effect = {
			clr_country_flag = MAR_started_UKR_offensive
			Tas_WRW2_decrease_depression = yes
		}
		days_mission_timeout = 90
		is_good = no

		timeout_effect = {
			clr_country_flag = MAR_started_UKR_offensive
			Tas_WRW2_increase_depression = yes
			add_to_variable = { RUS_devastation_gain = 0.5 }
		}
		ai_will_do = {
			factor = 1
		}
	}
	TaS_WRW2_activate_plan_riga = {
		icon = GFX_decision_diplo_ostland
		visible = {
			has_country_flag = TaS_2WRW_show_warplans
		}
		available = {
			has_war = yes
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_activate_plan_riga "
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			set_country_flag = MAR_started_OST_offensive
			add_timed_idea = {
				idea = MAR_go_oper
				days = 90
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_activate_plan_riga_mission = {
		icon = GFX_decision_generic_assault
		allowed = {
			tag = MAR
		}
		available = {
			always = no
		}
		activation = {
			has_country_flag = MAR_started_OST_offensive
		}
		cancel_trigger = {
			OR = {
				has_war = no
				controls_state = 1397
			}
		}

		cancel_effect = {
			clr_country_flag = MAR_started_OST_offensive
			Tas_WRW2_decrease_depression = yes
		}
		days_mission_timeout = 90
		is_good = no

		timeout_effect = {
			clr_country_flag = MAR_started_OST_offensive
			Tas_WRW2_increase_depression = yes
			add_to_variable = { RUS_devastation_gain = 0.5 }
		}
		ai_will_do = {
			factor = 1
		}
	}
	TaS_WRW2_show_war_decisions = {
		icon = GFX_decision_generic_decision
		visible = {
			NOT = {
				has_country_flag = TaS_2WRW_show_wardecisions
			}
		}
		available = {
			has_war = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			set_country_flag = TaS_2WRW_show_wardecisions
		}
	}
	TaS_WRW2_hide_war_decisions = {
		icon = GFX_decision_generic_decision
		visible = {
			has_country_flag = TaS_2WRW_show_wardecisions
		}
		available = {
			has_war = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			clr_country_flag = TaS_2WRW_show_wardecisions
		}
	}
	TaS_WRW2_activate_partisans = {
		icon = GFX_decision_generic_assault
		visible = {
			has_country_flag = TaS_2WRW_show_wardecisions
			check_variable = { MAR_Sended_diversants > 1 }
		}
		available = {
			has_war = yes
		}
		cost = 50
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			load_oob = MAR_diversants
		}
	}
	TaS_WRW2_expand_industries = {
		icon = GFX_decision_generic_heavy_industry
		visible = {
			has_country_flag = TaS_2WRW_show_wardecisions
		}
		available = {
			has_war = yes
		}
		cost = 100
		days_remove = 90
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			set_temp_variable = { gdp_growth_temp = -0.15 }
			econ_gdp_growth_change = yes
			set_temp_variable = { debt_temp = 0.1 }
			econ_national_debt_change = yes
		}
		remove_effect = {
			set_temp_variable = { pus_temp = 6 }
			econ_pus_change = yes
			add_to_variable = { RUS_devastation_gain = 0.5 }
		}
	}
	TaS_WRW2_expand_war_bonds = {
		icon = GFX_decision_black_market_infantry_purchase
		visible = {
			has_country_flag = TaS_2WRW_show_wardecisions
		}
		available = {
			has_war = yes
		}
		cost = 150
		days_remove = 120
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			add_to_variable = { RUS_devastation = 10 }
			set_temp_variable = { debt_temp = 0.2 }
			econ_national_debt_change = yes
		}
		remove_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 10000
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = anti_tank_equipment
					amount = 4000
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 3000
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 2000
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = motorized_equipment
					amount = 1000
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = jet_fighter_equipment_2
					amount = 200
					producer = MAR
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = MBT_chassis
						amount = 500
						producer = MAR
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = MBT_equipment
						amount = 500
						producer = MAR
					}
				}
		}
	}
	TaS_WRW2_millitary_parade = {
		icon = GFX_decision_generic_military_parade
		visible = {
			has_country_flag = TaS_2WRW_show_wardecisions
		}
		available = {
			has_war = yes
		}
		cost = 50
		days_remove = 35
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			subtract_from_variable = { RUS_devastation = 15 }
			add_to_variable = { RUS_devastation_gain = 0.1 }
		}
	}
	TaS_WRW2_promise_victory = {
		icon = GFX_decision_generic_civil_support
		visible = {
			has_country_flag = TaS_2WRW_show_wardecisions
		}
		available = {
			has_war = yes
		}
		cost = 50
		days_remove = 40
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			subtract_from_variable = { RUS_devastation_gain = 0.15 }
			add_to_variable = { RUS_devastation = 10 }
		}
	}
	TaS_WRW2_ask_for_ofn_help = {
		icon = GFX_decision_SAF_ask_OFN_stationing
		visible = {
			has_country_flag = TaS_2WRW_show_wardecisions
		}
		available = {
			has_war = yes
		}
		cost = 100
		days_remove = 60
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			GER = { add_ideas = { TaS_2WRW_sanctions } }
			add_ideas = { TaS_2WRW_ofn_advisors }
		}
		remove_effect = {
			TaS_2WRW_spawn_volunteers = yes
		}
	}
	TaS_WRW2_get_rid_of_traitors = {
		icon = GFX_decision_generic_building_prisons
		visible = {
			has_country_flag = TaS_2WRW_show_wardecisions
		}
		available = {
			has_war = yes
		}
		cost = 75
		days_remove = 75
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			add_stability = -0.05
		}
		remove_effect = {
			subtract_from_variable = { RUS_devastation_gain = 0.15 }
			subtract_from_variable = { RUS_devastation = 10 }
		}
	}
	TaS_WRW2_economic_mobilization = {
		icon = GFX_decision_generic_workers
		visible = {
			has_country_flag = TaS_2WRW_show_wardecisions
		}
		available = {
			has_war = yes
		}
		cost = 200
		days_remove = 80
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			add_stability = -0.05
		}
		remove_effect = {
			tno_trade_laws_improve = yes
			tno_minimum_wage_worsen = yes
			tno_max_workhours_worsen = yes
		}
	}	
	TaS_WRW2_show_emergency_decisions = {
		icon = GFX_decision_generic_decision
		visible = {
			NOT = {
				has_country_flag = TaS_2WRW_show_emergency
			}
		}
		available = {
			has_war = yes
			surrender_progress > 0.1
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			set_country_flag = TaS_2WRW_show_emergency
			add_stability = -0.05
		}
	}
	TaS_WRW2_cancel_war_decisions = {
		icon = GFX_decision_generic_decision
		visible = {
			has_country_flag = TaS_2WRW_show_emergency
		}
		available = {
			OR = {
				has_war = no
				MCW = { exists = no}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			clr_country_flag = TaS_2WRW_show_emergency
			add_stability = 0.05
		}
	}
	TaS_WRW2_total_war_mobilization = {
		icon = GFX_idea_tno_penal_system_penal_slavery
		visible = {
			has_country_flag = TaS_2WRW_show_emergency
		}
		available = {
			has_war = yes
		}
		cost = 150
		days_remove = 35
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			add_stability = -0.05
		}
		remove_effect = {
			tno_trade_laws_clear = yes
			add_ideas = { tno_trade_laws_closed_economy }
			tno_minimum_wage_clear = yes
			add_ideas = { tno_minimum_wage_no_minimum_wage }
			tno_max_workhours_clear = yes
			add_ideas = { tno_max_workhours_unlimited_work_day }
			tno_safety_clear = yes
			add_ideas = { tno_safety_no_regulations	}
			tno_pollution_clear = yes
			add_ideas = { tno_pollution_no_controls	}
			tno_child_labor_clear = yes
			add_ideas = { tno_child_labor_legal }
			tno_pensions_clear = yes
			add_ideas = { tno_pensions_no_pensions }
			tno_unemployment_clear = yes
			add_ideas = { tno_unemployment_no_subsidies }
		}
	}
	TaS_WRW2_equipment_old = {
		icon = GFX_weapon_icon
		visible = {
			has_country_flag = TaS_2WRW_show_emergency
		}
		available = {
			has_war = yes
		}
		cost = 150
		days_remove = 120
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			add_to_variable = { RUS_devastation = 10 }
			set_temp_variable = { debt_temp = 0.2 }
			econ_national_debt_change = yes
		}
		remove_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 25000
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = anti_tank_equipment_0
					amount = 10000
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 6000
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 5000
					producer = MAR
				}
				add_equipment_to_stockpile = {
					type = motorized_equipment_0
					amount = 2000
					producer = MAR
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = MBT_chassis_0
						amount = 1000
						producer = MAR
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = MBT_equipment_0
						amount = 1000
						producer = MAR
					}
				}
		}
	}
	TaS_WRW2_army_mobilization = {
		icon = GFX_decision_category_army_reform
		visible = {
			has_country_flag = TaS_2WRW_show_emergency
		}
		available = {
			has_war = yes
		}
		cost = 150
		days_remove = 35
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_show_war_plans"
			add_stability = -0.05
			add_war_support = -0.05
		}
		remove_effect = {
			tno_conscription_clear = yes
			add_ideas = { tno_conscription_all_adults_serve }			
			tno_military_supervision_clear = yes 
			add_ideas = { tno_military_supervision_no_supervision }			
			tno_training_clear = yes
			add_ideas = { tno_training_none }			
			tno_draft_exemptions_clear = yes
			add_ideas = { tno_draft_exemptions_none }			
		}
	}
	TaS_WRW2_our_last_stand = {
		icon = GFX_decision_generic_assault
		visible = {
			has_country_flag = TaS_2WRW_show_emergency
		}
		available = {
			has_war = yes
		}
		cost = 100
		days_remove = 25
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_our_last_stand"
		}
		remove_effect = {
			add_ideas = { TaS_2WRW_last_stand }
		}
	}
	TaS_WRW2_ultima_ratio = {
		icon = GFX_econ_nuke_icon
		visible = {
			has_country_flag = TaS_2WRW_show_emergency
		}
		available = {
			surrender_progress > 0.20
		}
		cost = 100
		days_remove = 14
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_our_last_stand"
		}
		remove_effect = {
			country_event = { id = nuclearwar.1 }
		}
	}		
	TaS_WRW2_offer_total_capitulation = {
		icon = GFX_decision_generic_military_parade
		visible = {
		}
		available = {
			has_war = yes
			controls_state = 1397
			controls_state = 1428
			check_variable = { RUS.GER_devastation > 100 }
			
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TaS_WRW2_activate_plan_riga "
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			country_event = { id = MAR_2WRW.5 }
		}
		ai_will_do = {
			factor = 20
		}
	}

}
TaS_WRW2_the_final_battle_GER = {
	TaS_WRW2_devastation_tick_GER = {
    	available = {
			NOT = {	
				MAR = { has_war_with = GER }
			}
    	}
	
    	activation = {
    		has_global_flag = TaS_2WRW_started
    	}
	
    	is_good = no
	
    	days_mission_timeout = 7
	
		timeout_effect = {
    		log = "[GetDateText]: [Root.GetName]: TaS_WRW2_devastation_tick mission timer elapsed" 
			GER = {
				add_to_variable = {
					RUS.GER_devastation = RUS.GER_devastation_gain
				}
			}

			#YUN_update_devastation_effects = yes
	
    		hidden_effect = {
    			if = {
    				limit = {
    					has_war_with = RUS
    				}
    				activate_mission = TaS_WRW2_devastation_tick_GER
    			}
    			if = {
    				limit = {
    					surrender_progress > 0.10
    				}
    				country_event = {
    				}
    			}
    		}
    	}
	
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Mission TaS_WRW2_devastation_tick Completed (Should never happen for this mission, please report if you see this in the log.)"
    	}
  	}
	TaS_WRW2_offer_status_quo = {
		icon = GFX_decision_generic_military_parade
		visible = {
		}
		available = {
			OR = {
				casualties > 100000
				MCW = {
					surrender_progress > 0.1
				}
				RUS = {
					casualties > 100000
				}
			}
			NOT = {
				MCW = {
					surrender_progress > 0.65
				}
			}
			OR = {
				check_variable = { RUS.GER_devastation > 50 }
				check_variable = { RUS_devastation > 50 }
			}
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision 	TaS_WRW2_offer_status_quo"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			MAR = {
				country_event = { id = MAR_2WRW.1 }
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_offer_muscowy = {
		icon = GFX_decision_generic_military_parade
		visible = {
		}
		available = {
			OR = {
				AND = {
					casualties > 300000
					MCW = {
						surrender_progress > 0.65
					}
					RUS = {
						casualties > 100000
					}
				}
			}
			NOT = {
				MCW = {
					exists = no
				}
			}
			OR = {
				check_variable = { RUS.GER_devastation > 125 }
			}
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision 	TaS_WRW2_offer_muscowy"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			MAR = {
				country_event = { id = MAR_2WRW.2 }
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_offer_muscowy_caucasus = {
		icon = GFX_decision_generic_military_parade
		visible = {
		}
		available = {
			AND = {
				casualties > 300000
				MCW = {
					exists = no
				}
				RUS = {
					casualties > 100000
				}
				check_variable = { RUS.GER_devastation > 75 }
			}
			NOT = {
				CAU = {
					exists = no
				}
			}
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision 	TaS_WRW2_offer_muscowy"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			MAR = {
				country_event = { id = MAR_2WRW.3 }
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_offer_muscowy_caucasus_dnepr = {
		icon = GFX_decision_generic_military_parade
		visible = {
		}
		available = {
			OR = {
				AND = {
					casualties > 300000
					MCW = {
						exists = no
					}
					CAU = {
						exists = no
					}
					RUS = {
						casualties > 100000
					}
					check_variable = { RUS.GER_devastation > 125 }
				}
			}
			NOT = {
				UKR = {
					exists = no
				}
			}
			OR = {
				AND = {
					casualties > 1500000
					check_variable = { RUS.GER_devastation > 100 }
				}
			}
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision 	TaS_WRW2_offer_muscowy"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			MAR = {
				country_event = { id = MAR_2WRW.4 }
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_offer_total_cap = {
		icon = GFX_decision_generic_military_parade
		visible = {
		}
		available = {
			OR = {
				GER = {
					surrender_progress > 0.05
				}
			}
			NOT = {
				GER = {
					surrender_progress > 0.25
				}
			}
			OR = {
				AND = {
					check_variable = { RUS.GER_devastation > 175 }
					OST = {
						exists = no
					}
					UKR = {
						exists = no
					}
				}
			}
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision 	TaS_WRW2_offer_status_quo"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			MAR = {
				country_event = { id = MAR_2WRW.5 }
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_offer_russian_cap = {
		icon = GFX_decision_generic_military_parade
		visible = {
		}
		available = {
			OR = {
				RUS = {
					surrender_progress > 0.1
				}
			}
			OR = {
				AND = {
					check_variable = { RUS_devastation > 135 }
					RUS = {
						surrender_progress > 0.01
					}
				}
			}
		}
		custom_cost_trigger = { command_power > 19.99 }
		custom_cost_text = decision_cost_20_cp
		fire_only_once = yes
		days_remove = 14
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision 	TaS_WRW2_offer_status_quo"
			hidden_effect = {
				add_command_power = -20
			}
		}
		remove_effect = {
			MAR = {
				country_event = { id = MAR_Collapse.1941 }
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
	TaS_WRW2_collapse_timer = {
    	available = {
			NOT = {	
				MAR = { has_war_with = GER }
			}
    	}
	
    	activation = {
			OR = {
				AND = {
					check_variable = { RUS.GER_devastation > 175 }
					surrender_progress > 0.1
				}
			}
			OR = {
				AND = {
					check_variable = { RUS.GER_devastation > 145 }
					surrender_progress > 0.25
				}
			}
			OR = {
				surrender_progress > 0.3
			}			
    	}
	
    	is_good = no
	
    	days_mission_timeout = 7
	
		timeout_effect = {
    		log = "[GetDateText]: [Root.GetName]: TaS_WRW2_devastation_tick mission timer elapsed" 
			GER = {
				country_event = { id = TaS_GERcollapse.1 }
			}
	   	}
	
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Mission TaS_WRW2_devastation_tick Completed (Should never happen for this mission, please report if you see this in the log.)"
    	}
  	}
}
TaS_WRW2_ost_territories_GER_braindead = {
	TaS_WRW2_attack_moscowien = {
		icon = GFX_decision_generic_decision
		fire_only_once = yes
		custom_cost_trigger = { command_power > 24.99 }
		custom_cost_text = decision_cost_25_cp
		fire_only_once = yes
		complete_effect = {
 			hidden_effect = {
				add_command_power = -25
			}
		}
		days_remove = 7
		remove_effect = {
			declare_war_on = {
				target = MCW
				type = annex_everything
			}
			declare_war_on = {
				target = OKB
				type = annex_everything
			}
			declare_war_on = {
				target = MOS
				type = annex_everything
			}
			declare_war_on = {
				target = PAU
				type = annex_everything
			}
			declare_war_on = {
				target = TAM
				type = annex_everything
			}
			declare_war_on = {
				target = SMO
				type = annex_everything
			}
			declare_war_on = {
				target = SKR
				type = annex_everything
			}
			declare_war_on = {
				target = PSK
				type = annex_everything
			}
			declare_war_on = {
				target = PEN
				type = annex_everything
			}
			declare_war_on = {
				target = MZL
				type = annex_everything
			}
			declare_war_on = {
				target = KAG
				type = annex_everything
			}
			declare_war_on = {
				target = FRP
				type = annex_everything
			}
			declare_war_on = {
				target = ZLB
				type = annex_everything
			}
			declare_war_on = {
				target = RSB
				type = annex_everything
			}
			declare_war_on = {
				target = RDC
				type = annex_everything
			}
			declare_war_on = {
				target = POS
				type = annex_everything
			}
			declare_war_on = {
				target = LAK
				type = annex_everything
			}
			declare_war_on = {
				target = BBB
				type = annex_everything
			}
		}
	}
	TaS_WRW2_integrate_moscow = {
		icon = GFX_decision_generic_decision
		visible = {
			owns_state = 1442
			owns_state = 195
			owns_state = 243
			NOT = {
				AND = {
					1442 = {
						is_core_of = ROOT
					}
					195 = {
						is_core_of = ROOT
					}
					243 = {
						is_core_of = ROOT
					}
				}
			}
		}
		fire_only_once = yes
		cost = 25
		modifier = {
			stability_weekly = -0.0025
			political_power_gain = -0.15
			gdp_growth_modifier = -0.5
		}
		highlight_states = {
			state = 1442
		}
		cost = 25

		ai_will_do = {
			factor = 100
		}

		days_remove = RUS_integration_cost_days?0
		remove_effect = {
			every_state = {
				limit = {
					is_core_of = MCW
				}
				add_core_of = RUS
				hidden_effect = { remove_core_of = MCW }
			}
		}
	}	
	TaS_WRW2_attack_ukraine = {
		icon = GFX_decision_generic_decision
		fire_only_once = yes
		custom_cost_trigger = { command_power > 24.99 }
		custom_cost_text = decision_cost_25_cp
		fire_only_once = yes
		complete_effect = {
 			hidden_effect = {
				add_command_power = -25
			}
		}
		days_remove = 7
		remove_effect = {
			declare_war_on = {
				target = UKR
				type = annex_everything
			}	
			declare_war_on = {
				target = FUK
				type = annex_everything
			}	
			declare_war_on = {
				target = CRI
				type = annex_everything
			}	
			declare_war_on = {
				target = GOT
				type = annex_everything
			}	
		}
	}
	TaS_WRW2_integrate_ukraine = {
		icon = GFX_decision_generic_decision
		visible = {
			owns_state = 1428
			owns_state = 1426
			owns_state = 1431
			NOT = {
				AND = {
					1428 = {
						is_core_of = ROOT
					}
					1426 = {
						is_core_of = ROOT
					}
					1431 = {
						is_core_of = ROOT
					}
				}
			}
		}
		fire_only_once = yes
		cost = 25
		modifier = {
			stability_weekly = -0.0025
			political_power_gain = -0.15
			gdp_growth_modifier = -0.5
		}
		highlight_states = {
			state = 1428
		}
		cost = 25

		ai_will_do = {
			factor = 100
		}

		days_remove = RUS_integration_cost_days?0
		remove_effect = {
			every_state = {
				limit = {
					is_core_of = UKR
				}
				add_core_of = RUS
				hidden_effect = { remove_core_of = UKR }
			}
		}
	}
	TaS_WRW2_attack_caucasus = {
		icon = GFX_decision_generic_decision
		fire_only_once = yes
		custom_cost_trigger = { command_power > 24.99 }
		custom_cost_text = decision_cost_25_cp
		fire_only_once = yes
		complete_effect = {
 			hidden_effect = {
				add_command_power = -25
			}
		}
		days_remove = 7
		remove_effect = {
			declare_war_on = {
				target = CAU
				type = annex_everything
			}	
			declare_war_on = {
				target = GEO
				type = annex_everything
			}	
			declare_war_on = {
				target = DAG
				type = annex_everything
			}	
			declare_war_on = {
				target = ADY
				type = annex_everything
			}
			declare_war_on = {
				target = AZR
				type = annex_everything
			}				
		}
	}
	TaS_WRW2_integrate_caucasus = {
		icon = GFX_decision_generic_decision
		visible = {
			owns_state = 234
			owns_state = 1552
			NOT = {
				AND = {
					234 = {
						is_core_of = ROOT
					}
					1552 = {
						is_core_of = ROOT
					}
				}
			}
		}
		fire_only_once = yes
		cost = 25
		modifier = {
			stability_weekly = -0.0025
			political_power_gain = -0.15
			gdp_growth_modifier = -0.5
		}
		highlight_states = {
			state = 234
		}
		cost = 25

		ai_will_do = {
			factor = 100
		}

		days_remove = RUS_integration_cost_days?0
		remove_effect = {
			every_state = {
				limit = {
					is_core_of = CAU
				}
				add_core_of = RUS
				hidden_effect = { remove_core_of = CAU }
			}
		}
	}
	TaS_WRW2_attack_ostland = {
		icon = GFX_decision_generic_decision
		fire_only_once = yes
		custom_cost_trigger = { command_power > 24.99 }
		custom_cost_text = decision_cost_25_cp
		fire_only_once = yes
		complete_effect = {
 			hidden_effect = {
				add_command_power = -25
			}
		}
		days_remove = 7
		remove_effect = {
			declare_war_on = {
				target = OST
				type = annex_everything
			}	
			declare_war_on = {
				target = DST
				type = annex_everything
			}	
			declare_war_on = {
				target = JST
				type = annex_everything
			}	
			declare_war_on = {
				target = DST
				type = annex_everything
			}
			declare_war_on = {
				target = UPO
				type = annex_everything
			}	
			declare_war_on = {
				target = BLR
				type = annex_everything
			}				
		}
	}
	TaS_WRW2_integrate_ostland = {
		icon = GFX_decision_generic_decision
		visible = {
			owns_state = 1404
			owns_state = 1397
			NOT = {
				AND = {
					1404 = {
						is_core_of = ROOT
					}
					1397 = {
						is_core_of = ROOT
					}
				}
			}
		}
		fire_only_once = yes
		cost = 25
		modifier = {
			stability_weekly = -0.0025
			political_power_gain = -0.15
			gdp_growth_modifier = -0.5
		}
		highlight_states = {
			state = 234
		}
		cost = 25

		ai_will_do = {
			factor = 100
		}

		days_remove = RUS_integration_cost_days?0
		remove_effect = {
			every_state = {
				limit = {
					is_core_of = OST
				}
				add_core_of = RUS
				hidden_effect = { remove_core_of = OST }
			}
		}
	}
}
TaS_WRW2_europe_ultimatums = { 
	TaS_WRW2_finland_ultimatum = {
		icon = GFX_finland_rus
		fire_only_once = yes
		custom_cost_trigger = { command_power > 24.99 }
		custom_cost_text = decision_cost_25_cp
		complete_effect = {
			add_war_support = 0.03
			hidden_effect = {
				add_command_power = -25
			}
		}
		days_remove = 14
		remove_effect = {
			if = {
				limit = { MAR = { owns_state = 1359 } }
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 216
						num_provinces = 4
					}
								
					defender = {
						state = 146
						num_provinces = 4
						on_win = MAR_ultimatums.2
						on_lose = MAR_ultimatums.1
					}
				}
			}
			else = { 
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 859
						num_provinces = 4
					}
								
					defender = {
						state = 215
						num_provinces = 4
						on_win = MAR_ultimatums.2
						on_lose = MAR_ultimatums.1
					}
				}
			}
		}
	}
	TaS_WRW2_romania_ultimatum = {
		icon = GFX_romania_rus
		fire_only_once = yes
		custom_cost_trigger = { command_power > 24.99 }
		custom_cost_text = decision_cost_25_cp
		complete_effect = {
			add_war_support = 0.03
			hidden_effect = {
				add_command_power = -25
			}
		}
		days_remove = 14
		remove_effect = {
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 197
					num_provinces = 4
				}
								
				defender = {
					state = 192
					num_provinces = 4
					on_win = MAR_ultimatums.2 
					on_lose = MAR_ultimatums.1
				}
			}			
		}
	}
	TaS_WRW2_turkey_ultimatum = {  
		icon = GFX_turkey_rus  
		fire_only_once = yes
		custom_cost_trigger = { command_power > 24.99 }
		custom_cost_text = decision_cost_25_cp
		complete_effect = {
			add_war_support = 0.03
			hidden_effect = {
				add_command_power = -25
			}
		}
		days_remove = 14  
		remove_effect = {
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 231
					num_provinces = 2
				}
								
				defender = {
					state = 1448
					num_provinces = 2
					on_win = MAR_ultimatums.2
					on_lose = MAR_ultimatums.1
				}
			}
		}
	}
} 