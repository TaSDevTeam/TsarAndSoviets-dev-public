TaS_SWRW_change_readiness = { 
	set_temp_variable = { temp_readiness_gained_txt = SWRW_readiness_temp }
	add_to_variable = { SWRW_readiness_var = SWRW_readiness_temp }
	
	clamp_variable = {
		var = SWRW_readiness_var
		min = 0
		max = 100
	}
	if = {
		limit = { check_variable = { SWRW_readiness_temp < 0 } }
		multiply_temp_variable = { temp_readiness_gained_txt = -1 }
		custom_effect_tooltip = SWRW_readiness_decrease_tt
	}
	else = {
		custom_effect_tooltip = SWRW_readiness_growth_tt
	}
}
TaS_SWRW_change_suspicion = { 
	set_temp_variable = { temp_suspicion_gained_txt = SWRW_suspicion_temp }
	add_to_variable = { SWRW_suspicion_var = SWRW_suspicion_temp }
	
	clamp_variable = {
		var = SWRW_suspicion_var
		min = 0
		max = 100
	}
	if = {
		limit = { check_variable = { SWRW_suspicion_temp < 0 } }
		multiply_temp_variable = { temp_suspicion_gained_txt = -1 }
		custom_effect_tooltip = SWRW_suspicion_decrease_tt
	}
	else = {
		custom_effect_tooltip = SWRW_suspicion_growth_tt
	}
	if = {
		limit = { check_variable = { SWRW_suspicion_var > 95 } }
		set_temp_variable = { alert_id = token:Alert_SWRWGermanAttention }
		add_TNO_alert = yes
	}
}
TaS_SWRW_change_suspicion_gain = { 
	set_temp_variable = { temp_suspicion_gain_gained_txt = SWRW_suspicion_gain_temp }
	add_to_variable = { SWRW_suspicion_gain = SWRW_suspicion_gain_temp }
	
	clamp_variable = {
		var = SWRW_suspicion_gain
		min = 0
		max = 100
	}
	if = {
		limit = { check_variable = { SWRW_suspicion_gain_temp < 0 } }
		multiply_temp_variable = { temp_suspicion_gain_gained_txt = -1 }
		custom_effect_tooltip = SWRW_suspicion_gain_decrease_tt
	}
	else = {
		custom_effect_tooltip = SWRW_suspicion_gain_growth_tt
	}
}

TaS_SWRW_start_the_war = {
	custom_effect_tooltip = start_the_war_tt
	hidden_effect = {
		declare_war_on = {
			target = GER
			type = annex_everything
		}
		declare_war_on = {
			target = MCW
			type = annex_everything
		}
		declare_war_on = {
			target = CAU
			type = annex_everything
		}
		declare_war_on = {
			target = OST
			type = annex_everything
		}
		declare_war_on = {
			target = UKR
			type = annex_everything
		}
		set_global_flag = nukes_disabled
		add_ideas = { MAR_oper_zero }
		set_variable = { WRW2_devastation_gain = 3 }
		set_variable = { GER.WRW2_devastation_gain = 3 }
		set_global_flag = TaS_2WRW_started
		set_variable = { TaS_swrw_stage = 2 }
		GER = {
			set_temp_variable = { TabName = token:BoP_Tab_SWRW }
			TNO_BoP_AddTab = yes
			set_variable = { TaS_swrw_stage = 2 }
		}
		every_country  = {
			news_event = {
				id = MAR_2WRW_world_news.6
			}
		}
		MCW = {
			add_ideas = SWRW_reichskommisariat
		}
		OST = {
			add_ideas = SWRW_reichskommisariat
		}
		UKR = {
			add_ideas = SWRW_reichskommisariat
		}
		CAU = {
			add_ideas = SWRW_reichskommisariat
		}
		load_focus_tree = MAR_second_patriotic_war
		mark_focus_tree_layout_dirty = yes		
	}
	if = {
		limit = { check_variable = { MAR_no_naval_invasions = 1 } }
		custom_effect_tooltip = no_naval_ger_tt
		hidden_effect = {
			GER = { add_ideas = { TaS_2WRW_north_sea_problems } }
		}
		RUS = {
			division_template = {
				name = "Morskaya Desantnaya Brigada"
				division_names_group = RUS_marines
				is_locked = yes
				regiments = {
					marine = { x = 0 y = 0 }
					marine = { x = 0 y = 1 }
					marine = { x = 0 y = 2 }
					marine = { x = 1 y = 0 }
					marine = { x = 1 y = 1 }
					marine = { x = 1 y = 2 }
					marine = { x = 2 y = 0 }
					marine = { x = 2 y = 1 }
				}
				support = {
					signal_company = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
				}
			}
			2099 = {
				create_unit = {
					division = "division_template = \"Morskaya Desantnaya Brigada\" start_experience_factor = 1 start_equipment_factor = 1"
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 11047
					owner = RUS
					count = 6 
				}
			}
		}
	}
	GER = {
		if = {
			limit = {
				has_country_leader = {
					character = GER_albert_speer 
					ruling_only = yes
				}
			}
			set_variable = { sgr_wehrmacht_div_limit = 150 }			
		}
		else = { 
			set_variable = { ger_div_limit = 250 }
		}
		load_focus_tree = GER_second_patriotic_war
	}
}
TaS_SWRW_american_germany = {
	ZNE = { 
		add_ideas = OFN_Mandate
		transfer_state = 1813
		transfer_state = 1814
		transfer_state = 188
		transfer_state = 60
		transfer_state = 65
		transfer_state = 776
		transfer_state = 63
		transfer_state = 61
		transfer_state = 775
		transfer_state = 188
		transfer_state = 66
		transfer_state = 72
		transfer_state = 50
		transfer_state = 54
		transfer_state = 1026
		transfer_state = 68
		transfer_state = 52
		transfer_state = 53
		transfer_state = 59
		transfer_state = 56
		transfer_state = 1373
		transfer_state = 57
		transfer_state = 1815
		transfer_state = 1810
		transfer_state = 1809
		transfer_state = 51
		transfer_state = 55
		transfer_state = 42
		transfer_state = 1811
		transfer_state = 58
		transfer_state = 8
		remove_ideas = TaS_Post2WRW_BRL_ZNE_russian_army 
		remove_ideas = TaS_Post2WRW_BRL_nazi_heartland_1
		remove_ideas = TaS_Post2WRW_ZNE_exec_centre 	
		set_politics = {
			ruling_party = despotism
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}
		set_popularities = {
			communist = 0
			ultranationalism = 0
			socialist = 0
			progressivism = 0
			liberalism = 0
			conservatism = 20
			paternalism = 10
			despotism = 40
			fascism = 20
			national_socialism = 10
		}
		set_party_name = {
			ideology = despotism
			long_name = ZNE_usa_party_long
			name = ZNE_usa_party
		}		
		set_cosmetic_tag = ZNE_usa
		add_ideas = TaS_Post2WRW_werewolf_activity
		add_ideas = TaS_Post2WRW_ZNE_strangers_among_own
		add_ideas = TaS_Post2WRW_fast_denazification
		TNO_startup_nation = yes
		every_owned_state = {
			ZNE = {
				add_state_core = PREV
			}
		}
	}
	GCZ = {
		transfer_state = 75
		transfer_state = 9
		transfer_state = 69
		remove_ideas = TaS_Post2WRW_commie_activity
		remove_ideas = TaS_Post2WRW_GCZ_big_brother
		remove_ideas = TaS_Post2WRW_GCZ_czechia_revival
		remove_ideas = TaS_Post2WRW_GCZ_sudetenland_genocide
		set_politics = {
			ruling_party = paternalism
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}
		set_party_name = {
			ideology = despotism
			long_name = BRL_usa_party_long
			name = BRL_usa_party
		}	
		set_popularities = {
			communist = 0
			ultranationalism = 0
			socialist = 0
			progressivism = 0
			liberalism = 0
			conservatism = 20
			paternalism = 10
			despotism = 40
			fascism = 20
			national_socialism = 10
		}
		set_cosmetic_tag = GCZ_usa
		promote_character = GCZ_USA_Creighton_Abrams
		OFN_MANDATE_set_starting_laws = yes
		inherit_technology = USA
		econ_join_sphere_USA = yes
		set_temp_variable = { TNO_economy_subtype_temp = token:Econ_Subtype_American_Capitalism }
		econ_subtype_change = yes
		add_ideas = OFN_Mandate
		add_ideas = TaS_Post2WRW_werewolf_activity
		add_ideas = TaS_Post2WRW_GCZ_golden_city_liberated
		add_ideas = TaS_Post2WRW_fast_denazification
		TNO_startup_nation = yes
		every_owned_state = {
			GCZ = {
				add_state_core = PREV
			}
		}
		
	}
	GDN = {
		add_ideas = OFN_Dependent_Member
		econ_join_sphere_USA = yes
		transfer_state = 99 
		transfer_state = 37
		transfer_state = 774
		set_cosmetic_tag = GDN_usa
		remove_ideas = TaS_Post2WRW_GDN_antimonarch_protests
		remove_ideas = TaS_Post2WRW_GDN_GNR_scandinavian_liberation 
		TNO_startup_nation = yes
		every_owned_state = {
			GDN = {
				add_state_core = PREV
			}
		}
	}
	GSG = {
		add_ideas = OFN_Dependent_Member
		add_ideas = TaS_Post2WRW_werewolf_activity
		add_ideas = TaS_Post2WRW_GSG_red_vienna
		add_ideas = TaS_Post2WRW_fast_denazification
		econ_join_sphere_USA = yes
		transfer_state = 1025
		transfer_state = 4
		transfer_state = 770
		transfer_state = 152
		transfer_state = 153
		transfer_state = 86
		transfer_state = 1772
		transfer_state = 62
		transfer_state = 98
		set_cosmetic_tag = GSG_usa
		TNO_startup_nation = yes
		every_owned_state = {
			GSG = {
				add_state_core = PREV
			}
		}
	}
	GPL = {
		#econ_join_sphere_USA = yes
		transfer_state = 87
		transfer_state = 67
		transfer_state = 88
		transfer_state = 1382
		transfer_state = 10
		transfer_state = 1380
		transfer_state = 90
		transfer_state = 1383
		transfer_state = 1381
		transfer_state = 1384
		transfer_state = 92
		transfer_state = 1385
		transfer_state = 1386
		transfer_state = 1389
		transfer_state = 1392
		
		transfer_state = 1390
		transfer_state = 1391
		transfer_state = 1387
		transfer_state = 1393
		transfer_state = 1388
		transfer_state = 1394
		transfer_state = 89
		transfer_state = 91
		transfer_state = 85
		TNO_startup_nation = yes
		every_owned_state = {
			GPL = {
				add_state_core = PREV
			}
		}
		remove_ideas = TaS_Post2WRW_commie_activity
	}
	#if = {
	#	limit = {
	#		FRA = { is_in_faction_with = USA }
	#	}
	#	FRA = {
	#		transfer_state = 8
	#		transfer_state = 1812
	#		transfer_state = 28
	#	}
	#}
	#else = {
	#	ZNE = {
	#		
	#		transfer_state = 1812
	#		transfer_state = 28
	#	}
	#}
	PUS = {
		TNO_startup_nation = yes
		transfer_state = 5
	}
	RUS = {
		transfer_state = 97
	}
	GSV = {
		transfer_state = 70
		transfer_state = 1762
		transfer_state = 71
		transfer_state = 1763
		TNO_startup_nation = yes
		every_owned_state = {
			GSV = {
				add_state_core = PREV
			}
		}
	}
	BRL = {
		transfer_state = 64
		remove_ideas = TaS_Post2WRW_BRL_ZNE_russian_army
		remove_ideas = TaS_Post2WRW_BRL_nazi_heartland_1
		remove_ideas = TaS_Post2WRW_BRL_mind_centre
		add_ideas = TaS_Post2WRW_werewolf_activity
		add_ideas = TaS_Post2WRW_BRL_yankee_in_volkshalle
		add_ideas = TaS_Post2WRW_fast_denazification
		set_politics = {
			ruling_party = paternalism
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}
		set_party_name = {
			ideology = paternalism
			long_name = BRL_usa_party_long
			name = BRL_usa_party
		}	
		set_popularities = {
			communist = 0
			ultranationalism = 0
			socialist = 0
			progressivism = 0
			liberalism = 0
			conservatism = 20
			paternalism = 40
			despotism = 10
			fascism = 20
			national_socialism = 10
		}
		set_cosmetic_tag = BRL_usa
		promote_character = BRL_USA_William_Westmoreland
		OFN_MANDATE_set_starting_laws = yes
		inherit_technology = USA
		econ_join_sphere_USA = yes
		set_temp_variable = { TNO_economy_subtype_temp = token:Econ_Subtype_American_Capitalism }
		econ_subtype_change = yes
		add_ideas = OFN_Mandate
		TNO_startup_nation = yes
		every_owned_state = {
			BRL = {
				add_state_core = PREV
			}
		}
	}
	if = {
		limit = { SUR = { has_idea = SUR_queen_juliana } }
		SUR = {
			set_cosmetic_tag = SUR_kingdom_of_netherlands
			transfer_state = 36
			transfer_state = 7
			transfer_state = 1886
			transfer_state = 74
			transfer_state = 35
			set_capital = { state = 7 }
			if = {
				limit = {
					BRG = { exists = no }
				}
				transfer_state = 6
				transfer_state = 1734
			}
			every_owned_state = {
				SUR = {
					add_state_core = PREV
				}
			}
		}
	}
	else = {
		CUR = {
			set_cosmetic_tag = SUR_kingdom_of_netherlands
			transfer_state = 36
			transfer_state = 7
			transfer_state = 1886
			transfer_state = 74
			transfer_state = 35
			set_capital = { state = 7 }
			if = {
				limit = {
					BRG = { exists = no }
				}
				transfer_state = 6
				transfer_state = 1734
			}
			every_owned_state = {
				CUR = {
					add_state_core = PREV
				}
			}
		}
	}
	if = {
		limit = {
			BRG = { exists = no }
		}
		GFR = {
			set_cosmetic_tag = GFR_usa
			transfer_state = 6
			transfer_state = 1734
			transfer_state = 34
			set_politics = {
				ruling_party = paternalism
				last_election = "1933.3.5"
				election_frequency = 48
				elections_allowed = no
			}
			set_party_name = {
				ideology = paternalism
				long_name = GFR_usa_party_long
				name = GFR_usa_party
			}	
			set_popularities = {
				communist = 0
				ultranationalism = 0
				socialist = 0
				progressivism = 0
				liberalism = 0
				conservatism = 20
				paternalism = 50
				despotism = 10
				fascism = 10
				national_socialism = 10
			}
			TNO_startup_nation = yes
			add_ideas = OFN_Dependent_Member
			set_cosmetic_tag = GFR_usa
			promote_character = GFR
			OFN_MANDATE_set_starting_laws = yes
			inherit_technology = USA
			econ_join_sphere_USA = yes
		}
	}
	USA = {
		add_to_faction = ZNE
		add_to_faction = GHL
		add_to_faction = GDN
		add_to_faction = GPL
		add_to_faction = GSG
		add_to_faction = GCZ
		add_to_faction = BRL
	}
}

TaS_SWRW_change_diplo_jap = { 
	set_temp_variable = { temp_diplo_gained_txt = swrw_diplo_temp }
	add_to_variable = { swrw_diplo_jap = swrw_diplo_temp }
	
	clamp_variable = {
		var = swrw_diplo_jap
		min = 0
		max = 100
	}
	if = {
		limit = { check_variable = { swrw_diplo_temp < 0 } }
		multiply_temp_variable = { temp_diplo_gained_txt = -1 }
		custom_effect_tooltip = swrw_fe_diplo_decrease_tt
	}
	else = {
		custom_effect_tooltip = swrw_fe_diplo_increase_tt
	}
}

TaS_SWRW_change_corpo_jap = { 
	set_temp_variable = { temp_corpo_gained_txt = swrw_corpo_temp }
	add_to_variable = { swrw_corpo_jap = swrw_corpo_temp }
	
	clamp_variable = {
		var = swrw_corpo_jap
		min = 0
		max = 100
	}
	if = {
		limit = { check_variable = { swrw_corpo_temp < 0 } }
		multiply_temp_variable = { temp_corpo_gained_txt = -1 }
		custom_effect_tooltip = swrw_fe_corpo_decrease_tt
	}
	else = {
		custom_effect_tooltip = swrw_fe_corpo_increase_tt
	}
}

TaS_SWRW_Manchu_CW_MJP_win = { 
	MJP = {
		set_cosmetic_tag = MJP_JAP_autonomy
		econ_join_sphere_JAP = yes
		add_ideas = Sphere_Imp_Protectorate
		add_ideas = MAN_Kwantung_Army
		set_capital = { state = 328 }
		every_owned_state = {
			MJP = {
				add_state_core = PREV
			}
		}
		country_lock_all_division_template = yes
		add_ideas = MJP_chained_forever
		add_ideas = MJP_reconstruction_programm

	}
	JAP = {
		add_to_faction = MJP
	}
	every_country  = {
		news_event = {
			id = MAR_2WRW_world_news.38
		}
	}
	USA = {
		set_temp_variable = { Victory_ID = 50 }
		set_temp_variable = { Victory_Outcome = 2 }
		set_temp_variable = { Victory_Points = -50 }
		Cold_War_GUI_ManipulateVictory = yes
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		set_temp_variable = { target = MAN }
		TNO_clear_and_recall_volunteers = yes	
	}
	JAP = {
		set_temp_variable = { Victory_ID = 50 }
		set_temp_variable = { Victory_Outcome = 4 }
		set_temp_variable = { Victory_Points = 150 }
		Cold_War_GUI_ManipulateVictory = yes
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		set_temp_variable = { target = MJP }
		TNO_clear_and_recall_volunteers = yes
	}
	MAR = {
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		clr_country_flag = RUS_something_goes_wrong
		set_temp_variable = { target = PFF }
		TNO_clear_and_recall_volunteers = yes
		set_temp_variable = { target = HAN }
		TNO_clear_and_recall_volunteers = yes
	}
}

TaS_SWRW_Manchu_CW_HAN_win = { 
	MJP = {
		transfer_state = 1637
		transfer_state = 1636
		transfer_state = 810
		transfer_state = 716
		transfer_state = 1265
		transfer_state = 1640
		transfer_state = 610
		transfer_state = 1713
		transfer_state = 1641
		
		country_lock_all_division_template = yes
		add_ideas = MJP_chained_forever
		add_ideas = MJP_reconstruction_programm
		add_ideas = MJP_lost_north
		
		set_cosmetic_tag = MJP_JAP_autonomy
		econ_join_sphere_JAP = yes
		add_ideas = Sphere_Imp_Protectorate
		add_ideas = MAN_Kwantung_Army
		set_capital = { state = 328 }
		every_owned_state = {
			MJP = {
				add_state_core = PREV
			}
		}
	}
	JAP = {
		add_to_faction = MJP
	}
	HAN = {
		set_cosmetic_tag = HAN_cw_victory
		set_capital = { state = 801 }
		every_owned_state = {
			HAN = {
				add_state_core = PREV
			}
		}
		
		add_ideas = MAN_liberty
		add_ideas = MAN_refugees
		add_ideas = HAN_voiceback_of_china
	}
	every_country  = {
		news_event = {
			id = MAR_2WRW_world_news.36
		}
	}
	USA = {
		set_temp_variable = { Victory_ID = 52 }
		set_temp_variable = { Victory_Outcome = 2 }
		set_temp_variable = { Victory_Points = -50 }
		Cold_War_GUI_ManipulateVictory = yes
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		set_temp_variable = { target = MAN }
		TNO_clear_and_recall_volunteers = yes
	}
	JAP = {
		set_temp_variable = { Victory_ID = 50 }
		set_temp_variable = { Victory_Outcome = 1 }
		set_temp_variable = { Victory_Points = -250 }
		Cold_War_GUI_ManipulateVictory = yes
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		set_temp_variable = { target = MJP }
		TNO_clear_and_recall_volunteers = yes
	}
	MAR = {
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		if = {
			limit = { NOT = { has_government = socialist } }
			FROM = { econ_join_sphere_MAR = yes }
		}
		clr_country_flag = RUS_something_goes_wrong
		set_temp_variable = { target = PFF }
		TNO_clear_and_recall_volunteers = yes
		set_temp_variable = { target = HAN }
		TNO_clear_and_recall_volunteers = yes
	}
}
TaS_SWRW_Manchu_CW_PFF_win = { 
	MJP = {
		transfer_state = 1637
		transfer_state = 1636
		transfer_state = 810
		transfer_state = 716
		transfer_state = 1265
		transfer_state = 1640
		transfer_state = 610
		transfer_state = 1713
		transfer_state = 1641
		transfer_state = 1715
		transfer_state = 328
		transfer_state = 717
		
		country_lock_all_division_template = yes
		add_ideas = MJP_chained_forever
		add_ideas = MJP_reconstruction_programm
		add_ideas = MJP_lost_north
		
		set_cosmetic_tag = MJP_JAP_autonomy
		econ_join_sphere_JAP = yes
		add_ideas = Sphere_Imp_Protectorate
		add_ideas = MAN_Kwantung_Army
		set_capital = { state = 328 }
		every_owned_state = {
			MJP = {
				add_state_core = PREV
			}
		}
	}
	JAP = {
		add_to_faction = MJP
	}
	PFF = {
		#set_cosmetic_tag = HAN_cw_victory
		set_capital = { state = 801 }
		every_owned_state = {
			PFF = {
				add_state_core = PREV
			}
		}
		
		add_ideas = MAN_liberty
		add_ideas = MAN_refugees
		add_ideas = PFF_surrounded_by_fear
	}
	every_country  = {
		news_event = {
			id = MAR_2WRW_world_news.39
		}
	}
	USA = {
		set_temp_variable = { Victory_ID = 50 }
		set_temp_variable = { Victory_Outcome = 2 }
		set_temp_variable = { Victory_Points = -50 }
		Cold_War_GUI_ManipulateVictory = yes
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		set_temp_variable = { target = MAN }
		TNO_clear_and_recall_volunteers = yes	
	}
	JAP = {
		set_temp_variable = { Victory_ID = 50 }
		set_temp_variable = { Victory_Outcome = 1 }
		set_temp_variable = { Victory_Points = -200 }
		Cold_War_GUI_ManipulateVictory = yes
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		set_temp_variable = { target = MJP }
		TNO_clear_and_recall_volunteers = yes
	}
	MAR = {
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		if = {
			limit = { has_government = socialist }
			FROM = { econ_join_sphere_MAR = yes }
		}
		clr_country_flag = RUS_something_goes_wrong
		set_temp_variable = { target = PFF }
		TNO_clear_and_recall_volunteers = yes
		set_temp_variable = { target = HAN }
		TNO_clear_and_recall_volunteers = yes
	}
}
TaS_SWRW_Manchu_CW_MAN_win = { 
	MJP = {
		transfer_state = 1637
		transfer_state = 1636
		transfer_state = 810
		transfer_state = 716
		transfer_state = 1265
		transfer_state = 1640
		transfer_state = 610
		transfer_state = 1713
		transfer_state = 1641
		
		country_lock_all_division_template = yes
		add_ideas = MJP_chained_forever
		add_ideas = MJP_reconstruction_programm
		add_ideas = MJP_lost_north
		
		set_cosmetic_tag = MJP_JAP_autonomy
		econ_join_sphere_JAP = yes
		add_ideas = Sphere_Imp_Protectorate
		add_ideas = MAN_Kwantung_Army
		set_capital = { state = 328 }
		every_owned_state = {
			MJP = {
				add_state_core = PREV
			}
		}
	}
	JAP = {
		add_to_faction = MJP
	}
	MAN = {
		econ_join_sphere_USA = yes
		add_ideas = OFN_observer
		set_capital = { state = 801 }
		every_owned_state = {
			MAN = {
				add_state_core = PREV
			}
		}

		add_ideas = MAN_liberty
		add_ideas = MAN_refugees
		add_ideas = MAN_shadow_deals
	}
	every_country  = {
		news_event = {
			id = MAR_2WRW_world_news.37
		}
	}
	USA = {
		set_temp_variable = { Victory_ID = 50 }
		set_temp_variable = { Victory_Outcome = 5 }
		set_temp_variable = { Victory_Points = 150 }
		Cold_War_GUI_ManipulateVictory = yes
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		set_temp_variable = { target = MAN }
		TNO_clear_and_recall_volunteers = yes
	}
	JAP = {
		set_temp_variable = { Victory_ID = 50 }
		set_temp_variable = { Victory_Outcome = 1 }
		set_temp_variable = { Victory_Points = -200 }
		Cold_War_GUI_ManipulateVictory = yes
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		set_temp_variable = { target = MJP }
		TNO_clear_and_recall_volunteers = yes
	}
	MAR = {
		TaS_fopo_remove_manchurian_civil_war_tab = yes
		clr_country_flag = RUS_something_goes_wrong
		set_temp_variable = { target = PFF }
		TNO_clear_and_recall_volunteers = yes
		set_temp_variable = { target = HAN }
		TNO_clear_and_recall_volunteers = yes
	}
}

SWRW_add_army_size_modifier = {
	ROOT = {
		every_unit_leader = {
			add_trait = { trait = SWRW_army_size_modifier }
		}
	}
}

SWRW_remove_army_size_modifier = {
	ROOT = {
		every_unit_leader = {
			limit = {
				has_trait = SWRW_army_size_modifier
			}
			remove_trait = { trait = SWRW_army_size_modifier }
		}
	}
}

SWRW_start_rebellion_VVV = {
	VVV = {
		transfer_state = 257
		add_state_core = 257
		set_province_controller = 320
		set_province_controller = 9386
		set_province_controller = 11234
		set_province_controller = 9242
		set_province_controller = 18255
		set_province_controller = 248
		set_province_controller = 320
		set_province_controller = 11234
		set_province_controller = 9386
		set_province_controller = 6242
		OST = {
			set_province_controller = 18288
			set_province_controller = 11304
			set_province_controller = 9331
			set_province_controller = 207
			set_province_controller = 9254

		}
		declare_war_on = {
			target = MCW
			type = annex_everything
		}
		declare_war_on = {
			target = OST
			type = annex_everything
		}
		load_oob = VVV_SWRW
		diplomatic_relation = {
			country = RUS
			relation = guarantee
			active = yes
		}
		diplomatic_relation = {
			country = RUS
			relation = non_aggression_pact
			active = yes
		}
		diplomatic_relation = {
			country = RUS
			relation = military_access
			active = yes
		}
	}
	RUS = {
		diplomatic_relation = {
			country = VVV
			relation = non_aggression_pact
			active = yes
		}
		diplomatic_relation = {
			country = VVV
			relation = guarantee
			active = yes
		}
		diplomatic_relation = {
			country = VVV
			relation = military_access
			active = yes
		}
	}
}	

SWRW_start_rebellion_ORL = {
	ORL = {
		transfer_state = 222
		add_state_core = 222
		set_province_controller = 11244
		set_province_controller = 9384
		set_province_controller = 3364
		set_province_controller = 11284
		set_province_controller = 9411
		set_province_controller = 236
		set_province_controller = 11337
		set_province_controller = 9384
		set_province_controller = 6411
		MCW = {
			set_province_controller = 3226
			set_province_controller = 3390
			set_province_controller = 3346
			set_province_controller = 3318
			set_province_controller = 18309
			set_province_controller = 356
			set_province_controller = 3376
			set_province_controller = 328
			set_province_controller = 384
			set_province_controller = 11242
			set_province_controller = 3335	
			set_province_controller = 288
		}
		declare_war_on = {
			target = MCW
			type = annex_everything
		}
		declare_war_on = {
			target = OST
			type = annex_everything
		}
		load_oob = ORL_SWRW
		diplomatic_relation = {
			country = RUS
			relation = guarantee
			active = yes
		}
		diplomatic_relation = {
			country = RUS
			relation = non_aggression_pact
			active = yes
		}
		diplomatic_relation = {
			country = RUS
			relation = military_access
			active = yes
		}
	}
	RUS = {
		diplomatic_relation = {
			country = ORL
			relation = non_aggression_pact
			active = yes
		}
		diplomatic_relation = {
			country = ORL
			relation = guarantee
			active = yes
		}
		diplomatic_relation = {
			country = ORL
			relation = military_access
			active = yes
		}
	}
}	

SWRW_start_rebellion_SHI = {
	SHI = {
		transfer_state = 1441
		add_state_core = 1441
		set_province_controller = 275
		set_province_controller = 9245
		set_province_controller = 9422
		set_province_controller = 18301
		set_province_controller = 3389
		set_province_controller = 11296
		set_province_controller = 9367
		set_province_controller = 11540
		MCW = {
			set_province_controller = 3332
			set_province_controller = 313
			set_province_controller = 340
			set_province_controller = 367
			set_province_controller = 396
			set_province_controller = 11323
			set_province_controller = 18269
		}
		
		declare_war_on = {
			target = MCW
			type = annex_everything
		}
		declare_war_on = {
			target = OST
			type = annex_everything
		}
		load_oob = SHI_SWRW
		diplomatic_relation = {
			country = RUS
			relation = guarantee
			active = yes
		}
		diplomatic_relation = {
			country = RUS
			relation = non_aggression_pact
			active = yes
		}
		diplomatic_relation = {
			country = RUS
			relation = military_access
			active = yes
		}
	}
	RUS = {
		diplomatic_relation = {
			country = SHI
			relation = non_aggression_pact
			active = yes
		}
		diplomatic_relation = {
			country = SHI
			relation = guarantee
			active = yes
		}
		diplomatic_relation = {
			country = SHI
			relation = military_access
			active = yes
		}
	}
}	

SWRW_start_rebellion_POV = {
	POV = {
		transfer_state = 224
		add_state_core = 224
		set_province_controller = 11476
		set_province_controller = 579
		set_province_controller = 14441
		set_province_controller = 484
		set_province_controller = 9516
		set_province_controller = 3582
		set_province_controller = 449
		set_province_controller = 9540
		set_province_controller = 3478
		set_province_controller = 9565
		MCW = {
			set_province_controller = 3540
			set_province_controller = 3431
			set_province_controller = 18326
			set_province_controller = 6566
			set_province_controller = 3489
			set_province_controller = 3582
			set_province_controller = 9488
			set_province_controller = 11459
			set_province_controller = 11418
			set_province_controller = 3519
		}
		declare_war_on = {
			target = MCW
			type = annex_everything
		}
		declare_war_on = {
			target = UKR
			type = annex_everything
		}
		load_oob = POV_SWRW
		diplomatic_relation = {
			country = RUS
			relation = guarantee
			active = yes
		}
		diplomatic_relation = {
			country = RUS
			relation = non_aggression_pact
			active = yes
		}
		diplomatic_relation = {
			country = RUS
			relation = military_access
			active = yes
		}
	}
	RUS = {
		diplomatic_relation = {
			country = POV
			relation = non_aggression_pact
			active = yes
		}
		diplomatic_relation = {
			country = POV
			relation = guarantee
			active = yes
		}
		diplomatic_relation = {
			country = POV
			relation = military_access
			active = yes
		}
	}
}	

SWRW_turkey_peacedeal = {
	TUR = { save_global_event_target_as = losing_country }
	RUS = {
		save_global_event_target_as = winning_country
		white_peace = TUR
	}	
	every_country = {
		limit = { is_puppet_of = TUR }
		white_peace = RUS
	}
	if = {
		limit = { MCS = { exists = yes } }
		MCS = {
			annex_country = {
				target = ARM
				transfer_troops = yes
			}
		}
	}
	else_if = {
		limit = { GEO = { exists = yes } }
		ARM = {
			econ_join_sphere_MAR = yes
		}
	}
	else = {
		RUS = {
			annex_country = {
				target = ARM
				transfer_troops = yes
			}
		}
	}	
	every_country = {
		limit = { controls_state = 231 }
		transfer_state = 1565
		transfer_state = 1448
		
		add_state_core = 1565
		add_state_core = 1448
	}
	every_country = {
		limit = { controls_state = 230 }
		transfer_state = 1567
		transfer_state = 353
		transfer_state = 1990
		
		add_state_core = 1567
		add_state_core = 353
		add_state_core = 1990
	}
	every_country = {
		limit = { controls_state = 554 }
		transfer_state = 1449
		transfer_state = 1988
		transfer_state = 677
		transfer_state = 1243
		transfer_state = 2148
		transfer_state = 1446
		
		add_state_core = 1449
		add_state_core = 1988
		add_state_core = 677
		add_state_core = 1243
		add_state_core = 2148
		add_state_core = 1446
	}
	every_country = {
		limit = { controls_state = 291 }
		transfer_state = 1993
		transfer_state = 1334
		transfer_state = 1781
		transfer_state = 1779
		transfer_state = 1780
		transfer_state = 781
		
		add_state_core = 1993
		add_state_core = 1334
		add_state_core = 1781
		add_state_core = 1779
		add_state_core = 1780
		add_state_core = 781
	}
	GRE = {
		transfer_state = 163
		add_state_core = 163
	}
	RUS = {
		transfer_state = 1267
		transfer_state = 341
		transfer_state = 347
		transfer_state = 340
		transfer_state = 345
	}
	every_country = {
		limit = { is_subject_of = TUR }
		end_puppet = TUR
	}
	
}
SWRW_finland_peacedeal = {
	RUS = {
		white_peace = FIN
	}	
	XYZ = {
		MFI_Military_Administration = {
			set_nationality = FIN
		}
	}
	FIN = {
		set_politics = {
			ruling_party = despotism
		}
		add_popularity = {
			ideology = despotism
			popularity = 0.45
		}
		set_party_name = {
			ideology = despotism
			long_name = FIN_MIL_despotism_party_long
			name = FIN_MIL_despotism_party
		}
		kill_country_leader = yes
		promote_character = MFI_Military_Administration
		if = {
			limit = { RUS = { has_government = socialist } }
			set_cosmetic_tag = FIN_MIL_Kosygin
		}
		else = {
			set_cosmetic_tag = FIN_MIL
		}
		econ_join_sphere_MAR = yes
	} 
	FIN = {
		get_current_government_type = yes
		save_party_popularities = yes
	}
	RUS = {
		set_autonomy = {
			target = FIN
			autonomy_state = autonomy_occupied_territory
		}	
	}	
	FIN = {
		restore_previous_government_type = yes
		apply_party_popularities = yes
	}
}
SWRW_turkey_fail_peacedeal = {
	RUS = {
		white_peace = TUR
	}
	every_country = {
		limit = { is_puppet_of = TUR }
		white_peace = RUS
	}
	ARM = {
		transfer_state = 1554
		add_state_core = 1554
	}
	1293 = { set_demilitarized_zone = yes }
	231 = { set_demilitarized_zone = yes }
	244 = { set_demilitarized_zone = yes }
	229 = { set_demilitarized_zone = yes }
	2131 = { set_demilitarized_zone = yes }
	1552 = { set_demilitarized_zone = yes }
	1556 = { set_demilitarized_zone = yes }
	1558 = { set_demilitarized_zone = yes }
}

 
SWRW_finland_fail_peacedeal = {
	RUS = {
		white_peace = FIN
	}
	FIN = {
		transfer_state = 215
		transfer_state = 1887
		add_state_core = 215
		add_state_core = 1887
	}
}