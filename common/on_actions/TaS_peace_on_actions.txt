on_actions = {
	on_capitulation = {
			effect = {
				if = {
					limit = {
						FROM = {
							original_tag = MAR
						}
						ROOT = { 
							OR = {
								original_tag = TAJ
								original_tag = KYR
								original_tag = UZB
								original_tag = UTL
								original_tag = TRK
								original_tag = KRK
							}
						}
						AND = {
							NOT = {
								country_exists = TAJ
							}
							NOT = {
								country_exists = KYR
							}
							NOT = {
								country_exists = UZB
							}
							NOT = {
								country_exists = UTL
							}
							NOT = {
								country_exists = TRK
							}
							NOT = {
								country_exists = KRK
							}
						}
					}
					FROM = {
						MAR_install_mil_turkestan = yes
						set_country_flag = MAR_has_central_asia
						clr_country_flag = RUS_something_goes_wrong
					}
					set_global_flag = skip_default_capitulation
				}
				else_if = {
					limit = {
						FROM = {
							original_tag = KUR
							KUR = {	has_idea = MAR_volunteer_mladojopa_for	}
						}
						ROOT = { 
							OR = {
								original_tag = IRQ
								original_tag = SNI
								original_tag = BIR
								original_tag = IRP
							}
						}
						AND = {
							NOT = {
								country_exists = IRQ
							}
							NOT = {
								country_exists = SNI
							}
							NOT = {
								country_exists = BIR
							}
							NOT = {
								country_exists = IRP
							}
						}
					}
					FROM = {
						OIL_KUR_win_iraq = yes
					}
					set_global_flag = skip_default_capitulation
				}
			else_if = {
					limit = {
						FROM = {
							original_tag = PFF
						}
						ROOT = { 
							original_tag = PJP
						}
						AND = {
							PFF = { NOT = { has_cosmetic_tag = PFF_Second_CW } }
						}
					}
					FROM = {
						white_peace = ROOT
						annex_country = {
							target = ROOT
							transfer_troops = no
						}
					}
					MAN = {		
						random_list = {
							20 = { #Direct Japanese Control
								country_event = {
									id = MAR_Japan.7 days = 90
								}
							}
							60 = { #civil war
								country_event = {
									id = MAR_Japan.1 days = 10
								}
							}
							20 = { #katastrophe
								country_event = {
									id = MAR_Japan.8 days = 43
								}
							}
						}					
					}
					JAP = {
						set_temp_variable = { Victory_ID = 49 }
						set_temp_variable = { Victory_Outcome = 1 }
						set_temp_variable = { Victory_Points = -100 }
						Cold_War_GUI_ManipulateVictory = yes
						TaS_fopo_remove_far_eastern_revolt_tab = yes
					}
					MAR = {
						if = {
							limit = { has_government = despotism }
							country_event = {
								id = MAR_Japan.6 days = 2
							}
						}
						else_if = {
							limit = { has_government = socialist }
							country_event = {
								id = MAR_Japan.16 days = 2
							}
						}
						TaS_fopo_remove_far_eastern_revolt_tab = yes
					}
					every_country  = {
						news_event = {
							id = MAR_2WRW_world_news.31
						}
					}
					set_global_flag = skip_default_capitulation
			}
			else_if = {
					limit = {
						FROM = {
							original_tag = PJP
						}
						ROOT = { 
							original_tag = PFF
						}
						AND = {
							PFF = { NOT = { has_cosmetic_tag = PFF_Second_CW } }
						}
					}
					FROM = {
						white_peace = ROOT
						annex_country = {
							target = ROOT
							transfer_troops = no
						}
					}
					MAR = {
						transfer_state = 1364
						set_country_flag = MAR_has_primorie
						TaS_fopo_remove_far_eastern_revolt_tab = yes
						clr_country_flag = RUS_something_goes_wrong
					}
					JAP = {
						transfer_state = 809
						add_state_core = 809
						set_temp_variable = { Victory_ID = 49 }
						set_temp_variable = { Victory_Outcome = 5 }
						set_temp_variable = { Victory_Points = 50 }
						Cold_War_GUI_ManipulateVictory = yes
						TaS_fopo_remove_far_eastern_revolt_tab = yes
					}	
					every_country  = {
						news_event = {
							id = MAR_2WRW_world_news.32
						}
					}
					set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MAN
					}
					ROOT = { 
						OR = {
							original_tag = MJP
							original_tag = HAN
							original_tag = PFF
						}
					}
					HAN = { exists = no }
					PFF = { exists = no }
					MJP = { exists = no }
				}
				FROM = {
					econ_join_sphere_USA = yes
					add_ideas = OFN_observer
				}
				every_country  = {
					news_event = {
						id = MAR_2WRW_world_news.37
					}
				}
				USA = {
					set_temp_variable = { Victory_ID = 50 }
					set_temp_variable = { Victory_Outcome = 5 }
					set_temp_variable = { Victory_Points = 150 }
					Cold_War_GUI_ManipulateVictory = yes
					TaS_fopo_remove_manchurian_civil_war_tab = yes
				}
				JAP = {
					set_temp_variable = { Victory_ID = 50 }
					set_temp_variable = { Victory_Outcome = 1 }
					set_temp_variable = { Victory_Points = -200 }
					Cold_War_GUI_ManipulateVictory = yes
					TaS_fopo_remove_manchurian_civil_war_tab = yes
				}
				MAR = {
					TaS_fopo_remove_manchurian_civil_war_tab = yes
					clr_country_flag = RUS_something_goes_wrong
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = HAN
					}
					ROOT = { 
						OR = {
							original_tag = MJP
							original_tag = MAN
							original_tag = PFF
						}
					}
					PFF = { exists = no }
					MAN = { exists = no }
					MJP = { exists = no }
				}
				FROM = {
					set_cosmetic_tag = HAN_cw_victory
				}
				every_country  = {
					news_event = {
						id = MAR_2WRW_world_news.36
					}
				}
				USA = {
					set_temp_variable = { Victory_ID = 50 }
					set_temp_variable = { Victory_Outcome = 2 }
					set_temp_variable = { Victory_Points = -50 }
					Cold_War_GUI_ManipulateVictory = yes
					TaS_fopo_remove_manchurian_civil_war_tab = yes
				}
				JAP = {
					set_temp_variable = { Victory_ID = 50 }
					set_temp_variable = { Victory_Outcome = 1 }
					set_temp_variable = { Victory_Points = -250 }
					Cold_War_GUI_ManipulateVictory = yes
					TaS_fopo_remove_manchurian_civil_war_tab = yes
				}
				MAR = {
					TaS_fopo_remove_manchurian_civil_war_tab = yes
					if = {
						limit = { NOT = { has_government = socialist } }
						FROM = { econ_join_sphere_MAR = yes }
					}
					clr_country_flag = RUS_something_goes_wrong
				}
				HAN = {
					set_capital = { state = 328 }
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MJP
					}
					ROOT = { 
						OR = {
							original_tag = HAN
							original_tag = MAN
							original_tag = PFF
						}
					}
					HAN = { exists = no }
					MAN = { exists = no }
					MJP = { exists = no }
				}
				FROM = {
					set_cosmetic_tag = MJP_JAP_autonomy
					econ_join_sphere_JAP = yes
					add_ideas = Sphere_Imp_Protectorate
					add_ideas = MAN_Kwantung_Army
				}
				JAP = {
					add_to_faction = MJP
				}
				every_country  = {
					news_event = {
						id = MAR_2WRW_world_news.38
					}
				}
				USA = {
					set_temp_variable = { Victory_ID = 50 }
					set_temp_variable = { Victory_Outcome = 2 }
					set_temp_variable = { Victory_Points = -50 }
					Cold_War_GUI_ManipulateVictory = yes
					TaS_fopo_remove_manchurian_civil_war_tab = yes
				}
				JAP = {
					set_temp_variable = { Victory_ID = 50 }
					set_temp_variable = { Victory_Outcome = 4 }
					set_temp_variable = { Victory_Points = 150 }
					Cold_War_GUI_ManipulateVictory = yes
					TaS_fopo_remove_manchurian_civil_war_tab = yes
				}
				MAR = {
					TaS_fopo_remove_manchurian_civil_war_tab = yes
					clr_country_flag = RUS_something_goes_wrong
				}
				MJP = {
					set_capital = { state = 328 }
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = PFF
						has_government = communist
					}
					ROOT = { 
						OR = {
							original_tag = HAN
							original_tag = MAN
							original_tag = MJP
						}
					}
					HAN = { exists = no }
					MAN = { exists = no }
					MJP = { exists = no }
				}
				every_country  = {
					news_event = {
						id = MAR_2WRW_world_news.39
					}
				}
				USA = {
					set_temp_variable = { Victory_ID = 50 }
					set_temp_variable = { Victory_Outcome = 2 }
					set_temp_variable = { Victory_Points = -50 }
					Cold_War_GUI_ManipulateVictory = yes
					TaS_fopo_remove_manchurian_civil_war_tab = yes
				}
				JAP = {
					set_temp_variable = { Victory_ID = 50 }
					set_temp_variable = { Victory_Outcome = 1 }
					set_temp_variable = { Victory_Points = -200 }
					Cold_War_GUI_ManipulateVictory = yes
					TaS_fopo_remove_manchurian_civil_war_tab = yes
				}
				MAR = {
					TaS_fopo_remove_manchurian_civil_war_tab = yes
					if = {
						limit = { has_government = socialist }
						FROM = { econ_join_sphere_MAR = yes }
					}
					clr_country_flag = RUS_something_goes_wrong
				}
				PFF = {
					set_capital = { state = 328 }
				}

				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = HAN
					}
					ROOT = { 
						OR = {
							original_tag = PFF
							original_tag = MAN
							original_tag = MJP
						}
					}
				}
				FROM = {
					annex_country = {
						target = ROOT
						transfer_troops = no
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MAR
					}
					ROOT = { 
						original_tag = MEN
					}
				}
				FROM = {
				white_peace = ROOT
				}
				MON = {
					transfer_state = 814
					transfer_state = 330
					transfer_state = 815
					econ_join_sphere_MAR = yes
				}
				MEN = {
					transfer_state = 612
					transfer_state = 621
					transfer_state = 955
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = GSU
					}
					ROOT = { 
						original_tag = GCZ
					}
				}
				FROM = {
				white_peace = ROOT
				}
				GSU = {
					transfer_state = 9
					transfer_state = 74
					declare_war_on = {
						target = GRA
						type = annex_everything
					}
					declare_war_on = {
						target = GAU
						type = annex_everything
					}
					declare_war_on = {
						target = GBV
						type = annex_everything
					}
					declare_war_on = {
						target = GBW
						type = annex_everything
					}
					declare_war_on = {
						target = GWF
						type = annex_everything
					}
					declare_war_on = {
						target = GRH
						type = annex_everything
					}
					declare_war_on = {
						target = GWS
						type = annex_everything
					}
				}
				
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MAR
						MAR = { has_global_flag = TaS_WRW2_Russian_victory }
					}
					ROOT = { 
						original_tag = FIN
					}
				}
				FROM = {
					white_peace = ROOT
				}
				MAR = {
					transfer_state = 146
					transfer_state = 1712
					transfer_state = 147
					transfer_state = 722
					transfer_state = 216
					transfer_state = 215
					transfer_state = 1724
					transfer_state = 1359
					transfer_state = 213
				}
				FIN = {
					econ_join_sphere_MAR = yes
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MAR
						MAR = { has_global_flag = TaS_WRW2_Russian_victory }
					}
					ROOT = { 
						original_tag = ROM
					}
				}
				FROM = {
					white_peace = ROOT
				}
				ROM = {
					transfer_state = 1288
					transfer_state = 76
					transfer_state = 83
					transfer_state = 82
					transfer_state = 81
					transfer_state = 46
					transfer_state = 1281
					transfer_state = 1283
					transfer_state = 79
					transfer_state = 1284
					transfer_state = 1289
					transfer_state = 84
					transfer_state = 1287
				
				}
				if = {
					limit = { MAR = { owns_state = 1428 } }
					MAR = {
						transfer_state = 198
						transfer_state = 1282
						transfer_state = 192
						transfer_state = 1285
						transfer_state = 78
						transfer_state = 1286
						transfer_state = 80
						transfer_state = 1965
						transfer_state = 1966
					}
				}
				else = {
					MUK = {
						transfer_state = 198
						transfer_state = 1282
						transfer_state = 192
						transfer_state = 1285
						transfer_state = 78
						transfer_state = 1286
						transfer_state = 80
						transfer_state = 1965
						transfer_state = 1966
					}
				}
				ROM = {
					econ_join_sphere_MAR = yes
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MAR
						MAR = { has_global_flag = TaS_WRW2_Russian_victory }
					}
					ROOT = { 
						original_tag = TUR
					}
				}
				FROM = {
					white_peace = ROOT
				}
				if = {
					limit = { MAR = { owns_state = 231 } }
					MAR = {
						transfer_state = 1565
						transfer_state = 230
						transfer_state = 1568
						transfer_state = 1567
						transfer_state = 1448
						transfer_state = 353
					}
				}
				if = {
					limit = { MCS = { owns_state = 231 } }
					MCS = {
						transfer_state = 1565
						transfer_state = 230
						transfer_state = 1568
						transfer_state = 1567
						transfer_state = 1448
						transfer_state = 353
					}
				}
				if = {
					limit = { GEO = { owns_state = 231 } }
					GEO = {
						transfer_state = 1565
						add_state_core = 1565
					}
					AZR = {
						transfer_state = 1567
						add_state_core = 1567
					}
					ARM = {
						transfer_state = 1554
						add_state_core = 1554
						transfer_state = 1568
						add_state_core = 1568
						transfer_state = 230
						add_state_core = 230
						transfer_state = 1448
						add_state_core = 1448
						transfer_state = 353
						add_state_core = 353
					}
				}
				TUR = {
					econ_join_sphere_MAR = yes
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = RUS
						has_global_flag = TaS_2WRW_started
						NOT = { has_global_flag = TaS_WRW2_Russian_victory } 
					}
					ROOT = { 
						original_tag = FIN
						FIN = {
							is_in_faction_with = GER 
						}
					}
				}
				FROM = {
					white_peace = ROOT
				}
				MAR = {
					transfer_state = 146
					transfer_state = 1712
					transfer_state = 147
					transfer_state = 722
					transfer_state = 216
					transfer_state = 215
					transfer_state = 1724
					transfer_state = 1359
					transfer_state = 213
				}
				FIN = {
					leave_faction = yes
				}
				RFI = {
					annex_country = {
						target = FIN
						transfer_troops = yes
					} 
					econ_join_sphere_MAR = yes
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							tag = PER
							tag = IRL
							tag = IRC
							tag = IRB
							tag = IRA
							tag = IRI
						}
					}
					ROOT = {
						OR = {
							tag = PER
							tag = IRL
							tag = IRC
							tag = IRB
							tag = IRA
							tag = IRI
						}
					}
				}
				FROM = {
					every_enemy_country = {
						limit = {
							OR = {
								original_tag = ROOT
								is_in_faction_with = ROOT
							}
						}
						remove_from_array = { global.PER_contenders = THIS }
						FROM = {
							white_peace = PREV
							annex_country = {
								target = PREV
								transfer_troops = no
							}
						}
					}

					if = {
						limit = {
							check_variable = { global.PER_contenders^num = 1 }
						}
						clear_array = global.PER_contenders

						if = {
							limit = { country_exists = PER }
							news_event = { id = WORLD.18009 days = 1 }
						}
						else_if = {
							limit = { country_exists = IRL }
							news_event = { id = WORLD.18010 days = 1 }
						}
						else_if = {
							limit = { country_exists = IRI }
							news_event = { id = WORLD.18014 days = 1 }
						}
						else_if = {
							limit = { country_exists = IRC }
							news_event = { id = WORLD.18011 days = 1 }
						}
						else_if = {
							limit = { country_exists = IRA }
							news_event = { id = WORLD.18013 days = 1 }
						}
						else_if = {
							limit = { country_exists = IRB }
							news_event = { id = WORLD.18012 days = 1 }
						}
						every_owned_state = {
							add_core_of = FROM
						}
						remove_ideas = PER_The_Iranian_Civil_War
						FROM = {
							set_capital = { state = 266 remember_old_capital = no }
						}
					}
					else_if = {
						limit = {
							check_variable = { global.PER_contenders^num = 2 }
							IRB = {
								exists = yes
								has_war = no
							}
							has_global_flag = TNO_IRA_collapsed_coalition
						}
						clear_array = global.PER_contenders

						if = {
							limit = { country_exists = IRL }
							news_event = { id = WORLD.18010 days = 1 }
						}
						else_if = {
							limit = { country_exists = IRC }
							news_event = { id = WORLD.18011 days = 1 }
						}
						else_if = {
							limit = { country_exists = IRA }
							news_event = { id = WORLD.18013 days = 1 }
						}
						else_if = {
							limit = { country_exists = IRI }
							news_event = { id = WORLD.18014 days = 1 }
						}
						every_owned_state = {
							add_core_of = FROM
						}
						remove_ideas = PER_The_Iranian_Civil_War
						FROM = {
							set_capital = { state = 266 remember_old_capital = no }
						}
					}
				}
				#Iranian Civil War (Walker added this so he could get a Burgundy thing working)
				if = { # USA Loses
					limit = { ROOT = { tag = IRL } }
					USA = { country_event = USA_IR.6 }
				}
				else_if = { # USA Wins
					limit = {
						FROM = {
							tag = IRL
							has_war = no
						}
						has_global_flag = TNO_IRA_collapsed_coalition
					}
					USA = { country_event = USA_IR.7 }
				}
				#Iranian Civil War (Thanks walker for the code - zero)
				if = { # JAP Loses
					limit = { ROOT = { tag = IRI } }
					JAP = { country_event = jap_fopo.2 }
				}
				else_if = { # JAP Wins
					limit = {
						FROM = {
							tag = IRI
							has_war = no
						}
						has_global_flag = TNO_IRA_collapsed_coalition
					}
					JAP = { country_event = jap_fopo.3 }
				}

				if = { # GER Loses
					limit = { ROOT = { tag = PER } }
					GER = { country_event = { id = reich_shared.21 days = 2 } }
				}
				else_if = { # GER Wins
					limit = {
						FROM = {
							tag = PER
							has_war = no
						}
					}
					GER = { country_event = { id = reich_shared.20 days = 2 } }
				}
				
				if = { # MAR(not kosygin) Loses
					limit = { ROOT = { tag = IRC } MAR = { NOT = { has_government = socialist } } }
					MAR = { country_event = { id = MAR_forpol.9 days = 2 } }
				}
				else_if = { # MAR(not kosygin) Wins
					limit = {
						FROM = {
							tag = IRC
							has_war = no
						}
						MAR = { NOT = { has_government = socialist } }
					}
					MAR = { country_event = { id = MAR_forpol.8 days = 2 } }
				}
				
				if = { # MAR(not kosygin) Loses
					limit = { ROOT = { tag = IRA } MAR = { has_government = socialist } } 
					MAR = { country_event = { id = MAR_forpol.3 days = 2 } }
				}
				else_if = { # MAR(not kosygin) Wins
					limit = {
						FROM = {
							tag = IRA
							has_war = no
						}
						MAR = { has_government = socialist }
					}
					MAR = { country_event = { id = MAR_forpol.2 days = 2 } }
				}
				set_global_flag = skip_default_capitulation
			}
			##################### Congo PW Shenanigans ###########################
			else_if = {
				limit = {
					has_global_flag = CONGO_PW_HAPPENING
					FROM = {
						OR = {
							original_tag = CFS
							original_tag = CPR
							original_tag = AZD
							original_tag = KTG
							original_tag = GRO
							original_tag = COG
							original_tag = KSI
						}
					}
					ROOT = {
						OR = {
							original_tag = CFS
							original_tag = CPR
							original_tag = AZD
							original_tag = KTG
							original_tag = GRO
							original_tag = COG
							original_tag = KSI
						}
					}
				}
				else_if = { # Congolese Popular Republic got the number one victory royale
					limit = {
						country_exists = CPR
						NOT = {
							country_exists = CFS
							country_exists = KTG
							country_exists = KSI
							country_exists = AZD
							AND = {
								has_global_flag = COG_PW_GRO_or_COG_in
								OR = {
									country_exists = GRO
									country_exists = COG
								}
							}
						}
					}
					CPR = {
						country_event = {
							id = COG_PW.4
							days = 5
						}
					}
					USA = {
						country_event = {
							id = COG_PW.99
							days = 5
						}
					}
					MAR = {
						if = {
							limit = { has_government = socialist has_country_flag = MAR_aid_CPR }
							TaS_dobrovoltsy_dynmod_victory = yes
							CPR = { econ_join_sphere_MAR = yes }
							TaS_fopo_remove_congo_cw_tab = yes
						}
						else = {
							TaS_dobrovoltsy_dynmod_lose = yes
							TaS_fopo_remove_congo_cw_tab = yes
						}
					}
				}
				else_if = { # Kasai got the number one victory royale
					limit = {
						country_exists = KSI
						NOT = {
							country_exists = CFS
							country_exists = CPR
							country_exists = KTG
							country_exists = AZD
							AND = {
								has_global_flag = COG_PW_GRO_or_COG_in
								OR = {
									country_exists = GRO
									country_exists = COG
								}
							}
						}
					}
					KSI = {
						country_event = {
							id = COG_PW.8
							days = 5
						}
					}
					USA = {
						country_event = {
							id = COG_PW.99
							days = 5
						}
					}
					MAR = {
						if = {
							limit = { NOT = { has_government = socialist } has_country_flag = MAR_aid_KSI }
							TaS_dobrovoltsy_dynmod_victory = yes
							country_event = { id = berez_dobrovoltsy.23 days = 3 }
							TaS_fopo_remove_congo_cw_tab = yes
						}
						else = {
							TaS_dobrovoltsy_dynmod_lose = yes
							TaS_fopo_remove_congo_cw_tab = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							original_tag = FRM
							original_tag = FRV
						}
					}
					ROOT = { 
						OR = {
							original_tag = FRS
							original_tag = FRD
							original_tag = FRM
							original_tag = FRV
							original_tag = FMM
							original_tag = FGR
							original_tag = FIT
						}
					}
				}
				if = {
					limit = {
						NOT = {
							count_triggers = {
								amount = 2
								country_exists = FRS
								country_exists = FRD
								country_exists = FRM
								country_exists = FRV
								country_exists = FMM
								country_exists = FGR
								country_exists = FIT
							}
						}
					}
					else_if = {
						limit = { country_exists = FRV }
						
						if = { 
							limit = { has_country_flag = MAR_aid_FRV }
							#econ_join_sphere_MAR = yes
							MAR = {
								country_event = { id = MAR_forpol.711 days = 3 }
							}
						}
						every_country = {
							limit = { is_ai = no }
							news_event = { id = WORLD.20000 days = 1 }
						}
					}
					else_if = {
						limit = { country_exists = FRM }
						
						if = { 
							limit = { has_country_flag = MAR_aid_FRM }
							#econ_join_sphere_MAR = yes
							MAR = {
								country_event = { id = MAR_forpol.701 days = 3 }
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						is_in_faction_with = JAP 
					}
					ROOT = { 
						OR = {
							original_tag = HAN
							original_tag = MAN
							original_tag = PFF
						}
					}
					AND = {
						country_exists = MJP
					}
				}
				MJP = {
					annex_country = {
						target = ROOT
						transfer_troops = no
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MAR
					}
					ROOT = { 
						original_tag = GER
					}
				}
				if = {
					limit = { MAR = { has_government = despotism } }
					TaS_WRW2_German_Collapse_Beloozersky = yes
				}
				else_if = {
					limit = { MAR = { has_government = socialist } }
					TaS_WRW2_German_Collapse_Kosygin = yes
				}
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MAR
					}
					ROOT = { 
						OR = {
							original_tag = KAZ
							original_tag = KZR
						}
					}
					AND = {
						NOT = {
							country_exists = KAZ
						}
						NOT = {
							country_exists = KZR
						}
					}
				}
				FROM = {
					MAR_install_mil_kazakhstan = yes
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MAR
					}
					ROOT = { 
						original_tag = ROM
					}
					NOT = { ROM = { is_in_faction_with = GER } }
				}
				FROM = {
					white_peace = ROOT
				}
				GRM = {
					annex_country = {
						target = ROOT
						transfer_troops = yes
					}
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MAR
					}
					ROOT = { 
						original_tag = HUN
					}
					NOT = { HUN = { is_in_faction_with = GER } }
				}
				FROM = {
					white_peace = ROOT
				}
				GHU = {
					annex_country = {
						target = ROOT
						transfer_troops = yes
					}
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MAR
					}
					ROOT = { 
						original_tag = SER
					}
					NOT = { SER = { is_in_faction_with = GER } }
				}
				FROM = {
					white_peace = ROOT
				}
				GSE = {
					annex_country = {
						target = ROOT
						transfer_troops = yes
					}
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MAR
					}
					ROOT = { 
						original_tag = BUL
					}
					NOT = { BUL = { is_in_faction_with = GER } }
				}
				FROM = {
					white_peace = ROOT
				}
				GBU = {
					annex_country = {
						target = ROOT
						transfer_troops = yes
					}
				}
				set_global_flag = skip_default_capitulation
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = USA
					}
					ROOT = { 
						original_tag = GER
					}
					has_global_flag = TaS_SWRW_democracy_time
				}
				FROM = {
					white_peace = ROOT
				}
				TaS_SWRW_american_germany = yes
				set_global_flag = skip_default_capitulation
			}
		}
	}
}